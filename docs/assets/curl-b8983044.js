import{u as f,a as m,b as h,c as g,r as l,j as n,M as x}from"./main-c3609a1d.js";import{R as v,l as j,j as b,a as C,g as k,b as S}from"./index-a838522e.js";function w(){const a=f();m(e=>e.create);const o=h(),i=g(e=>e.webhookUrl),[u,r]=l.useState("{}");l.useEffect(()=>{const e=i||"https://steve.com",t=c(o),s=p(e,t);r(s)},[o]);function c(e){return{content:e.content||"",username:e.username||"",avatar_url:e.avatar_url||"",tts:!!e.tts,embeds:(e.embeds||[]).map(t=>({url:t.url,title:t.title,description:t.description,color:t.color,image:t.image?{url:t.image.url}:void 0,fields:t.fields?t.fields.map(s=>({name:s.name,value:s.value,inline:s.inline})):[]})),components:e.components||[],flags:e.flags||0}}function d(){}function p(e,t){const s=JSON.stringify(t).replace(/\\/g,"\\\\").replace(/"/g,'\\"');return`curl -X POST "${e}" -H "Content-Type: application/json" -d "${s}"`}return n.jsx(x,{height:"full",onClose:()=>a("/editor"),children:n.jsxs("div",{className:"h-full flex flex-col p-1.5 md:p-3",children:[n.jsx(v,{className:"flex-1 rounded overflow-hidden",height:"100%",width:"100%",value:u,basicSetup:{lineNumbers:!1,foldGutter:!1,indentOnInput:!0},extensions:[j(),b(),C(S())],theme:k,onChange:e=>r(e)}),n.jsxs("div",{className:"mt-3 flex justify-end space-x-2",children:[n.jsx("button",{className:"border-2 border-dark-7 hover:bg-dark-5 px-3 py-2 rounded text-white",onClick:()=>a("/editor"),children:"Cancel"}),n.jsx("button",{className:"bg-blurple hover:bg-blurple-dark px-3 py-2 rounded text-white",onClick:d,children:"Save"})]})]})})}export{w as default};
