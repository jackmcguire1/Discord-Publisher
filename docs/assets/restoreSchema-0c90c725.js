import{z as e,O as s}from"./index-e7a35ca5.js";const t=e.preprocess(o=>{if(!(o===null||typeof o!="number"))return o},e.number().default(()=>s())),S=e.preprocess(o=>o??void 0,e.optional(e.string())),y=e.preprocess(o=>o??void 0,e.optional(e.string())),_=e.preprocess(o=>o??void 0,e.optional(e.object({text:S,icon_url:y}))),j=e.preprocess(o=>o??void 0,e.optional(e.string())),A=e.preprocess(o=>o??void 0,e.optional(e.object({url:j}))),U=e.preprocess(o=>o??void 0,e.optional(e.string())),w=e.preprocess(o=>o??void 0,e.optional(e.object({url:U}))),I=e.preprocess(o=>o??void 0,e.string().default("")),F=e.preprocess(o=>o??void 0,e.optional(e.string())),T=e.preprocess(o=>o??void 0,e.optional(e.string())),x=e.preprocess(o=>o??void 0,e.optional(e.object({name:I,url:F,icon_url:T}))),M=e.preprocess(o=>o??void 0,e.string().default("")),N=e.preprocess(o=>o??void 0,e.optional(e.string())),C=e.preprocess(o=>o??void 0,e.optional(e.object({name:M,url:N}))),D=e.preprocess(o=>o??void 0,e.string().default("")),P=e.preprocess(o=>o??void 0,e.string().default("")),k=e.preprocess(o=>o??void 0,e.optional(e.boolean())),q=e.object({id:t,name:D,value:P,inline:k}),G=e.preprocess(o=>o??void 0,e.optional(e.string())),O=e.preprocess(o=>o??void 0,e.optional(e.string())),z=e.preprocess(o=>o??void 0,e.optional(e.string())),B=e.preprocess(o=>o??void 0,e.optional(e.string())),R=e.preprocess(o=>o??void 0,e.optional(e.number())),V=e.object({id:t,title:G,description:O,url:z,timestamp:B,color:R,footer:_,author:x,provider:C,image:A,thumbnail:w,fields:e.preprocess(o=>o??void 0,e.array(q).default([]))}),a=e.object({id:e.optional(e.string()),name:e.preprocess(o=>o??void 0,e.string().default("")),animated:e.preprocess(o=>o??void 0,e.boolean().default(!1))}),n=e.object({url:e.preprocess(o=>o??void 0,e.string().default(""))});e.literal(1).or(e.literal(2)).or(e.literal(3)).or(e.literal(4)).or(e.literal(5));const l=e.object({id:t,type:e.literal(2),style:e.literal(1).or(e.literal(2)).or(e.literal(3)).or(e.literal(4)),label:e.preprocess(o=>o??void 0,e.string().default("")),emoji:e.optional(e.nullable(a)),disabled:e.preprocess(o=>o??void 0,e.optional(e.boolean())),action_set_id:e.preprocess(o=>o??void 0,e.string().default(()=>s().toString()))}).or(e.object({id:t,type:e.literal(2),style:e.literal(5),label:e.preprocess(o=>o??void 0,e.string().default("")),emoji:e.optional(e.nullable(a)),url:e.preprocess(o=>o??void 0,e.string().default("")),disabled:e.preprocess(o=>o??void 0,e.optional(e.boolean())),action_set_id:e.string().default(()=>s().toString())})),W=e.object({id:t,label:e.preprocess(o=>o??void 0,e.string().default("")),description:e.preprocess(o=>o||void 0,e.optional(e.string())),emoji:e.preprocess(o=>o??void 0,e.optional(a)),action_set_id:e.preprocess(o=>o??void 0,e.string().default(()=>s().toString()))}),m=e.object({id:t,type:e.literal(3),placeholder:e.preprocess(o=>o??void 0,e.optional(e.string())),disabled:e.preprocess(o=>o??void 0,e.optional(e.boolean())),options:e.preprocess(o=>o??void 0,e.array(W).default([]))}),u=e.object({id:t,type:e.literal(1),components:e.preprocess(o=>o??void 0,e.array(l.or(m)).default([]))}),c=e.object({id:t,type:e.literal(10),content:e.preprocess(o=>o??void 0,e.string().default(""))}),b=e.object({id:t,type:e.literal(11),media:n,description:e.preprocess(o=>o??void 0,e.optional(e.string())),spoiler:e.preprocess(o=>o??void 0,e.optional(e.boolean()))}),v=e.object({id:t,type:e.literal(9),components:e.preprocess(o=>o??void 0,e.array(c).default([])),accessory:e.preprocess(o=>o??void 0,e.union([b,l]).default({type:11,media:{url:""}}))}),E=e.object({id:t,media:n,description:e.preprocess(o=>o??void 0,e.optional(e.string())),spoiler:e.preprocess(o=>o??void 0,e.optional(e.boolean()))}),f=e.object({id:t,type:e.literal(12),items:e.preprocess(o=>o??void 0,e.array(E).default([]))}),g=e.object({id:t,type:e.literal(13),file:n,spoiler:e.preprocess(o=>o??void 0,e.optional(e.boolean()))}),h=e.object({id:t,type:e.literal(14),divider:e.preprocess(o=>o??void 0,e.boolean().default(!0)),spacing:e.preprocess(o=>o??void 0,e.union([e.literal(1),e.literal(2)]).default(1))}),H=e.object({id:t,type:e.literal(17),components:e.array(e.union([u,c,v,f,h,g])).min(1).max(10),accent_color:e.preprocess(o=>o??void 0,e.optional(e.number())),spoiler:e.preprocess(o=>o??void 0,e.optional(e.boolean()))}),J=e.union([u,l,m,v,c,b,f,g,h,H]),K=e.object({type:e.literal(1).or(e.literal(6)).or(e.literal(8)),id:t,text:e.preprocess(o=>o??void 0,e.string().default("")),public:e.preprocess(o=>o??void 0,e.boolean().default(!1)),allow_role_mentions:e.preprocess(o=>o??void 0,e.boolean().default(!1))}).or(e.object({type:e.literal(5).or(e.literal(7)).or(e.literal(9)),id:t,target_id:e.string(),public:e.preprocess(o=>o??void 0,e.boolean().default(!1)),allow_role_mentions:e.preprocess(o=>o??void 0,e.boolean().default(!1))})).or(e.object({type:e.literal(2).or(e.literal(3)).or(e.literal(4)),id:t.default(()=>s()),target_id:e.string(),public:e.preprocess(o=>o??void 0,e.boolean().default(!1)),allow_role_mentions:e.preprocess(o=>o??void 0,e.boolean().default(!1)),disable_default_response:e.preprocess(o=>o??void 0,e.boolean().default(!1))})).or(e.object({type:e.literal(10),id:t.default(()=>s()),permissions:e.preprocess(o=>o??void 0,e.string().default("0")),role_ids:e.preprocess(o=>o??void 0,e.array(e.string()).default([])),disable_default_response:e.preprocess(o=>o??void 0,e.boolean().default(!1)),text:e.preprocess(o=>o??void 0,e.string().default(""))})),L=e.object({actions:e.array(K)}),Q=e.preprocess(o=>o??void 0,e.string().default("")),X=e.preprocess(o=>o??void 0,e.optional(e.string())),Y=e.preprocess(o=>o??void 0,e.optional(e.string())),Z=e.preprocess(o=>o??void 0,e.boolean().default(!1)),$=e.preprocess(o=>o??void 0,e.optional(e.object({parse:e.array(e.literal("users").or(e.literal("roles")).or(e.literal("everyone"))),roles:e.array(e.string()),users:e.array(e.string()),replied_user:e.boolean()}))),ee=e.optional(e.string()),oe=e.object({content:e.preprocess(o=>o??void 0,Q.default("")),username:X,avatar_url:Y,tts:Z,embeds:e.preprocess(o=>o??void 0,e.array(V).default([])),allowed_mentions:$,components:e.preprocess(o=>o??void 0,e.array(J).default([])),thread_name:ee,actions:e.preprocess(o=>o??void 0,e.record(e.string(),L).default({})),flags:e.preprocess(o=>o??0,e.number())});function re(o){const r=oe.parse(o);for(const p of r.components)if(p.type===1)for(const i of p.components)if(i.type===2)r.actions[i.action_set_id]||(r.actions[i.action_set_id]={actions:[]});else for(const d of i.options)r.actions[d.action_set_id]||(r.actions[d.action_set_id]={actions:[]});return r}export{L as a,oe as m,re as p};
