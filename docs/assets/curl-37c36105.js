import{u as f,a as m,b as h,c as g,r as l,j as o,M as x}from"./index-be7f8796.js";import{R as v,l as j,j as C,a as k,g as S,b}from"./index-36765c11.js";function w(){const n=f();m(e=>e.create);const a=h(),i=g(e=>e.webhookUrl),[u,r]=l.useState("{}");l.useEffect(()=>{const e=i||"https://steve.com",t=c(a),s=p(e,t);r(s)},[a]);function c(e){return{content:e.content||"",username:e.username||"",avatar_url:e.avatar_url||"",tts:!!e.tts,embeds:(e.embeds||[]).map(t=>({url:t.url,title:t.title,description:t.description,color:t.color,image:t.image?{url:t.image.url}:void 0,footer:t.footer?{text:t.footer.text,icon_url:t.footer.icon_url}:void 0,timestamp:t.timestamp,fields:t.fields?t.fields.map(s=>({name:s.name,value:s.value,inline:s.inline})):[]})),components:e.components||[],flags:e.flags||0}}function d(){}function p(e,t){const s=JSON.stringify(t).replace(/\\/g,"\\\\").replace(/"/g,'\\"');return`curl -X POST "${e}" -H "Content-Type: application/json" -d "${s}"`}return o.jsx(x,{height:"full",onClose:()=>n("/editor"),children:o.jsxs("div",{className:"h-full flex flex-col p-1.5 md:p-3",children:[o.jsx(v,{className:"flex-1 rounded overflow-hidden",height:"100%",width:"100%",value:u,basicSetup:{lineNumbers:!1,foldGutter:!1,indentOnInput:!0},extensions:[j(),C(),k(b())],theme:S,onChange:e=>r(e)}),o.jsxs("div",{className:"mt-3 flex justify-end space-x-2",children:[o.jsx("button",{className:"border-2 border-dark-7 hover:bg-dark-5 px-3 py-2 rounded text-white",onClick:()=>n("/editor"),children:"Cancel"}),o.jsx("button",{className:"bg-blurple hover:bg-blurple-dark px-3 py-2 rounded text-white",onClick:d,children:"Save"})]})]})})}export{w as default};
