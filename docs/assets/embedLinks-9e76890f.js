import{r as t,O as E,aq as P,a as I,j as e,E as s,ar as M,F as A,Q as q}from"./index-be6118cb.js";import{T as B}from"./ToolsBackButton-7f51a652.js";import D from"./MessagePreview-f718bdd2.js";import"./index-e4f144c6.js";function F(){const[d,f]=t.useState(""),[r,b]=t.useState(""),[u,j]=t.useState(""),[o,y]=t.useState(void 0),[a,w]=t.useState(""),[l,N]=t.useState(""),[m,k]=t.useState(""),[i,C]=t.useState(""),[x,L]=t.useState(""),[n,U]=t.useState(!0),_=t.useMemo(()=>({content:"https://message.style/e/123",tts:!1,username:"Some User",embeds:[{id:E(),url:r||void 0,title:d||void 0,description:u||void 0,color:o,author:i?{name:i,url:x||void 0}:void 0,provider:l?{name:l,url:m||void 0}:void 0,fields:[],thumbnail:a&&!n?{url:a}:void 0,image:a&&n?{url:a}:void 0}],components:[],actions:{}}),[d,r,u,o,a,l,m,i,x,n]),[g,v]=t.useState(""),S=P(),p=I(c=>c.create);function T(){if(!r){p({title:"Some required fields are missing",message:"Please fill at least the  URL field before creating the embed link",type:"error"});return}S.mutate({url:r,theme_color:o?q(o):null,og_title:d,og_description:u,og_image:a,og_site_name:l,oe_type:null,oe_author_name:i,oe_author_url:x,oe_provider_name:l,oe_provider_url:m,tw_card:n?"summary_large_image":null},{onSuccess:c=>{c.success?v(c.data.url):p({title:"Failed to create embed link",message:c.error.message,type:"error"})}})}const h=t.useRef(null);function R(){h.current&&(h.current.select(),h.current.setSelectionRange(0,99999),document.execCommand("copy"),p({title:"Copied URL",message:"The URL has been copied to your clipboard",type:"success"}))}return e.jsxs("div",{className:"flex flex-col lg:flex-row h-full flex-auto w-full space-y-10 lg:space-y-0 lg:space-x-10",children:[g?e.jsxs("div",{className:"w-full lg:w-1/2 space-y-5",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"text",className:"bg-dark-2 rounded-l px-3 py-2 text-gray-100 w-full focus:outline-none",value:g,readOnly:!0,ref:h}),e.jsx("button",{className:"px-3 py-2 rounded-r bg-blurple hover:bg-blurple-dark text-white flex-none",onClick:R,children:"Copy Link"})]}),e.jsx("div",{className:"flex",children:e.jsx("button",{className:"px-3 py-2 rounded border-2 border-dark-7 hover:bg-dark-6 cursor-pointer text-white",onClick:()=>v(""),children:"Create New"})})]}):e.jsxs("div",{className:"w-full lg:w-1/2 space-y-3",children:[e.jsx(s,{label:"URL",description:"The URL that users will be redirected to when clicking your embed link.",value:r,onChange:b,type:"url"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(s,{label:"Title",value:d,onChange:f,maxLength:256}),e.jsxs("div",{children:[e.jsx("div",{className:"uppercase text-gray-300 text-sm font-medium mb-1.5",children:"Color"}),e.jsx(M,{value:o,onChange:y})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(s,{label:"Provider",value:l,onChange:N,maxLength:256}),e.jsx(s,{label:"Provider URL",value:m,onChange:k})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(s,{label:"Author",value:i,onChange:C,maxLength:256}),e.jsx(s,{label:"Author URL",value:x,onChange:L})]}),e.jsx(s,{label:"Description",value:u,onChange:j,type:"textarea",maxLength:4096}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"uppercase text-gray-300 text-sm font-medium mb-1.5",children:"Large"}),e.jsx(A,{checked:!n,onChange:U,height:10})]}),e.jsx(s,{label:"Image URL",value:a,onChange:w,type:"url",imageUpload:!0,className:"w-full"})]}),e.jsx("div",{className:"flex justify-end pt-3",children:e.jsx("button",{className:"px-3 py-2 rounded text-white bg-blurple hover:bg-blurple-dark",onClick:T,children:"Create Link"})})]}),e.jsx("div",{className:"w-full lg:w-1/2",children:e.jsx(D,{msg:_})})]})}function z(){return e.jsx("div",{className:"overflow-y-auto w-full",children:e.jsxs("div",{className:"flex flex-col max-w-5xl mx-auto px-4 w-full my-5 mb-20 lg:mt-20 space-y-20",children:[e.jsx(B,{}),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-10",children:[e.jsx("h1",{className:"text-white font-medium mb-3 text-2xl",children:"Embed Links"}),e.jsx("h2",{className:"text-gray-400 font-light text-sm",children:"Embed links are a way to share rich embeds with others without needing to send the actual embed. They only support a subset of the features of the actual embeds but can be send anywhere."})]}),e.jsx(F,{})]})]})})}export{z as default};
