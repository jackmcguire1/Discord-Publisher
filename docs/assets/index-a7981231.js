var Cn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Vi={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(h,p,f){this.fn=h,this.context=p,this.once=f||!1}function a(h,p,f,m,b){if(typeof f!="function")throw new TypeError("The listener must be a function");var x=new i(f,m||h,b),V=n?n+p:p;return h._events[V]?h._events[V].fn?h._events[V]=[h._events[V],x]:h._events[V].push(x):(h._events[V]=x,h._eventsCount++),h}function o(h,p){--h._eventsCount===0?h._events=new r:delete h._events[p]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var p=[],f,m;if(this._eventsCount===0)return p;for(m in f=this._events)t.call(f,m)&&p.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(f)):p},c.prototype.listeners=function(p){var f=n?n+p:p,m=this._events[f];if(!m)return[];if(m.fn)return[m.fn];for(var b=0,x=m.length,V=new Array(x);b<x;b++)V[b]=m[b].fn;return V},c.prototype.listenerCount=function(p){var f=n?n+p:p,m=this._events[f];return m?m.fn?1:m.length:0},c.prototype.emit=function(p,f,m,b,x,V){var B=n?n+p:p;if(!this._events[B])return!1;var R=this._events[B],ue=arguments.length,C,J;if(R.fn){switch(R.once&&this.removeListener(p,R.fn,void 0,!0),ue){case 1:return R.fn.call(R.context),!0;case 2:return R.fn.call(R.context,f),!0;case 3:return R.fn.call(R.context,f,m),!0;case 4:return R.fn.call(R.context,f,m,b),!0;case 5:return R.fn.call(R.context,f,m,b,x),!0;case 6:return R.fn.call(R.context,f,m,b,x,V),!0}for(J=1,C=new Array(ue-1);J<ue;J++)C[J-1]=arguments[J];R.fn.apply(R.context,C)}else{var me=R.length,pe;for(J=0;J<me;J++)switch(R[J].once&&this.removeListener(p,R[J].fn,void 0,!0),ue){case 1:R[J].fn.call(R[J].context);break;case 2:R[J].fn.call(R[J].context,f);break;case 3:R[J].fn.call(R[J].context,f,m);break;case 4:R[J].fn.call(R[J].context,f,m,b);break;default:if(!C)for(pe=1,C=new Array(ue-1);pe<ue;pe++)C[pe-1]=arguments[pe];R[J].fn.apply(R[J].context,C)}}return!0},c.prototype.on=function(p,f,m){return a(this,p,f,m,!1)},c.prototype.once=function(p,f,m){return a(this,p,f,m,!0)},c.prototype.removeListener=function(p,f,m,b){var x=n?n+p:p;if(!this._events[x])return this;if(!f)return o(this,x),this;var V=this._events[x];if(V.fn)V.fn===f&&(!b||V.once)&&(!m||V.context===m)&&o(this,x);else{for(var B=0,R=[],ue=V.length;B<ue;B++)(V[B].fn!==f||b&&!V[B].once||m&&V[B].context!==m)&&R.push(V[B]);R.length?this._events[x]=R.length===1?R[0]:R:o(this,x)}return this},c.prototype.removeAllListeners=function(p){var f;return p?(f=n?n+p:p,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,e.exports=c})(Vi);var uo=Vi.exports,Hi=Wr(uo),re;(function(e){e.assertEqual=i=>i;function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},e.getValidEnumValues=i=>{const a=e.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),o={};for(const c of a)o[c]=i[c];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(a){return i[a]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},e.find=(i,a)=>{for(const o of i)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=r,e.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(re||(re={}));var Hr;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(Hr||(Hr={}));const L=re.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),bt=e=>{switch(typeof e){case"undefined":return L.undefined;case"string":return L.string;case"number":return isNaN(e)?L.nan:L.number;case"boolean":return L.boolean;case"function":return L.function;case"bigint":return L.bigint;case"symbol":return L.symbol;case"object":return Array.isArray(e)?L.array:e===null?L.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?L.promise:typeof Map<"u"&&e instanceof Map?L.map:typeof Set<"u"&&e instanceof Set?L.set:typeof Date<"u"&&e instanceof Date?L.date:L.object;default:return L.unknown}},O=re.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),co=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class ze extends Error{constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(a){return a.message},r={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let c=r,h=0;for(;h<o.path.length;){const p=o.path[h];h===o.path.length-1?(c[p]=c[p]||{_errors:[]},c[p]._errors.push(n(o))):c[p]=c[p]||{_errors:[]},c=c[p],h++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,re.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}ze.create=e=>new ze(e);const dn=(e,t)=>{let n;switch(e.code){case O.invalid_type:e.received===L.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case O.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,re.jsonStringifyReplacer)}`;break;case O.unrecognized_keys:n=`Unrecognized key(s) in object: ${re.joinValues(e.keys,", ")}`;break;case O.invalid_union:n="Invalid input";break;case O.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${re.joinValues(e.options)}`;break;case O.invalid_enum_value:n=`Invalid enum value. Expected ${re.joinValues(e.options)}, received '${e.received}'`;break;case O.invalid_arguments:n="Invalid function arguments";break;case O.invalid_return_type:n="Invalid function return type";break;case O.invalid_date:n="Invalid date";break;case O.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:re.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case O.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case O.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case O.custom:n="Invalid input";break;case O.invalid_intersection_types:n="Intersection results could not be merged";break;case O.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case O.not_finite:n="Number must be finite";break;default:n=t.defaultError,re.assertNever(e)}return{message:n}};let ji=dn;function fo(e){ji=e}function tr(){return ji}const nr=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,a=[...n,...i.path||[]],o={...i,path:a};let c="";const h=r.filter(p=>!!p).slice().reverse();for(const p of h)c=p(o,{data:t,defaultError:c}).message;return{...i,path:a,message:i.message||c}},po=[];function P(e,t){const n=nr({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,tr(),dn].filter(r=>!!r)});e.common.issues.push(n)}class Re{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const i of n){if(i.status==="aborted")return X;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const i of n)r.push({key:await i.key,value:await i.value});return Re.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const i of n){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return X;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[a.value]=o.value)}return{status:t.value,value:r}}}const X=Object.freeze({status:"aborted"}),qi=e=>({status:"dirty",value:e}),Me=e=>({status:"valid",value:e}),jr=e=>e.status==="aborted",qr=e=>e.status==="dirty",hn=e=>e.status==="valid",rr=e=>typeof Promise<"u"&&e instanceof Promise;var H;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(H||(H={}));class tt{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Pi=(e,t)=>{if(hn(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ze(e.common.issues);return this._error=n,this._error}}};function z(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,c)=>o.code!=="invalid_type"?{message:c.defaultError}:typeof c.data>"u"?{message:r??c.defaultError}:{message:n??c.defaultError},description:i}}class W{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return bt(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:bt(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Re,ctx:{common:t.parent.common,data:t.data,parsedType:bt(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(rr(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:bt(t)},a=this._parseSync({data:t,path:i.path,parent:i});return Pi(i,a)}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:bt(t)},i=this._parse({data:t,path:r.path,parent:r}),a=await(rr(i)?i:Promise.resolve(i));return Pi(r,a)}refine(t,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const o=t(i),c=()=>a.addIssue({code:O.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(h=>h?!0:(c(),!1)):o?!0:(c(),!1)})}refinement(t,n){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new Ce({schema:this,typeName:K.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return mt.create(this,this._def)}nullable(){return Zt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return We.create(this,this._def)}promise(){return Ct.create(this,this._def)}or(t){return vn.create([this,t],this._def)}and(t){return yn.create(this,t,this._def)}transform(t){return new Ce({...z(this._def),schema:this,typeName:K.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new An({...z(this._def),innerType:this,defaultValue:n,typeName:K.ZodDefault})}brand(){return new Fi({typeName:K.ZodBranded,type:this,...z(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new or({...z(this._def),innerType:this,catchValue:n,typeName:K.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Nn.create(this,t)}readonly(){return ur.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ho=/^c[^\s-]{8,}$/i,mo=/^[a-z][a-z0-9]*$/,go=/^[0-9A-HJKMNP-TV-Z]{26}$/,_o=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,vo=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,yo="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Br;const Eo=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,To=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,bo=e=>e.precision?e.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`):e.precision===0?e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function wo(e,t){return!!((t==="v4"||!t)&&Eo.test(e)||(t==="v6"||!t)&&To.test(e))}class Xe extends W{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==L.string){const a=this._getOrReturnCtx(t);return P(a,{code:O.invalid_type,expected:L.string,received:a.parsedType}),X}const r=new Re;let i;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(i=this._getOrReturnCtx(t,i),P(i,{code:O.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")t.data.length>a.value&&(i=this._getOrReturnCtx(t,i),P(i,{code:O.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,c=t.data.length<a.value;(o||c)&&(i=this._getOrReturnCtx(t,i),o?P(i,{code:O.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):c&&P(i,{code:O.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")vo.test(t.data)||(i=this._getOrReturnCtx(t,i),P(i,{validation:"email",code:O.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")Br||(Br=new RegExp(yo,"u")),Br.test(t.data)||(i=this._getOrReturnCtx(t,i),P(i,{validation:"emoji",code:O.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")_o.test(t.data)||(i=this._getOrReturnCtx(t,i),P(i,{validation:"uuid",code:O.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")ho.test(t.data)||(i=this._getOrReturnCtx(t,i),P(i,{validation:"cuid",code:O.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")mo.test(t.data)||(i=this._getOrReturnCtx(t,i),P(i,{validation:"cuid2",code:O.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")go.test(t.data)||(i=this._getOrReturnCtx(t,i),P(i,{validation:"ulid",code:O.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),P(i,{validation:"url",code:O.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),P(i,{validation:"regex",code:O.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(t,i),P(i,{code:O.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(i=this._getOrReturnCtx(t,i),P(i,{code:O.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(i=this._getOrReturnCtx(t,i),P(i,{code:O.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?bo(a).test(t.data)||(i=this._getOrReturnCtx(t,i),P(i,{code:O.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="ip"?wo(t.data,a.version)||(i=this._getOrReturnCtx(t,i),P(i,{validation:"ip",code:O.invalid_string,message:a.message}),r.dirty()):re.assertNever(a);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(i=>t.test(i),{validation:n,code:O.invalid_string,...H.errToObj(r)})}_addCheck(t){return new Xe({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...H.errToObj(t)})}url(t){return this._addCheck({kind:"url",...H.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...H.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...H.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...H.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...H.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...H.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...H.errToObj(t)})}datetime(t){var n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,...H.errToObj(t==null?void 0:t.message)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...H.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...H.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...H.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...H.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...H.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...H.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...H.errToObj(n)})}nonempty(t){return this.min(1,H.errToObj(t))}trim(){return new Xe({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Xe({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Xe({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Xe.create=e=>{var t;return new Xe({checks:[],typeName:K.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...z(e)})};function Ao(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,a=parseInt(e.toFixed(i).replace(".","")),o=parseInt(t.toFixed(i).replace(".",""));return a%o/Math.pow(10,i)}class St extends W{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==L.number){const a=this._getOrReturnCtx(t);return P(a,{code:O.invalid_type,expected:L.number,received:a.parsedType}),X}let r;const i=new Re;for(const a of this._def.checks)a.kind==="int"?re.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),P(r,{code:O.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),P(r,{code:O.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),P(r,{code:O.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?Ao(t.data,a.value)!==0&&(r=this._getOrReturnCtx(t,r),P(r,{code:O.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),P(r,{code:O.not_finite,message:a.message}),i.dirty()):re.assertNever(a);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,H.toString(n))}gt(t,n){return this.setLimit("min",t,!1,H.toString(n))}lte(t,n){return this.setLimit("max",t,!0,H.toString(n))}lt(t,n){return this.setLimit("max",t,!1,H.toString(n))}setLimit(t,n,r,i){return new St({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:H.toString(i)}]})}_addCheck(t){return new St({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:H.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:H.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:H.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:H.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:H.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:H.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:H.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:H.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:H.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&re.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}St.create=e=>new St({checks:[],typeName:K.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...z(e)});class It extends W{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==L.bigint){const a=this._getOrReturnCtx(t);return P(a,{code:O.invalid_type,expected:L.bigint,received:a.parsedType}),X}let r;const i=new Re;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),P(r,{code:O.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),P(r,{code:O.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),P(r,{code:O.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):re.assertNever(a);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,H.toString(n))}gt(t,n){return this.setLimit("min",t,!1,H.toString(n))}lte(t,n){return this.setLimit("max",t,!0,H.toString(n))}lt(t,n){return this.setLimit("max",t,!1,H.toString(n))}setLimit(t,n,r,i){return new It({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:H.toString(i)}]})}_addCheck(t){return new It({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:H.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:H.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:H.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:H.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:H.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}It.create=e=>{var t;return new It({checks:[],typeName:K.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...z(e)})};class mn extends W{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==L.boolean){const r=this._getOrReturnCtx(t);return P(r,{code:O.invalid_type,expected:L.boolean,received:r.parsedType}),X}return Me(t.data)}}mn.create=e=>new mn({typeName:K.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...z(e)});class Bt extends W{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==L.date){const a=this._getOrReturnCtx(t);return P(a,{code:O.invalid_type,expected:L.date,received:a.parsedType}),X}if(isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return P(a,{code:O.invalid_date}),X}const r=new Re;let i;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(i=this._getOrReturnCtx(t,i),P(i,{code:O.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(i=this._getOrReturnCtx(t,i),P(i,{code:O.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):re.assertNever(a);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Bt({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:H.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:H.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Bt.create=e=>new Bt({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:K.ZodDate,...z(e)});class ir extends W{_parse(t){if(this._getType(t)!==L.symbol){const r=this._getOrReturnCtx(t);return P(r,{code:O.invalid_type,expected:L.symbol,received:r.parsedType}),X}return Me(t.data)}}ir.create=e=>new ir({typeName:K.ZodSymbol,...z(e)});class gn extends W{_parse(t){if(this._getType(t)!==L.undefined){const r=this._getOrReturnCtx(t);return P(r,{code:O.invalid_type,expected:L.undefined,received:r.parsedType}),X}return Me(t.data)}}gn.create=e=>new gn({typeName:K.ZodUndefined,...z(e)});class _n extends W{_parse(t){if(this._getType(t)!==L.null){const r=this._getOrReturnCtx(t);return P(r,{code:O.invalid_type,expected:L.null,received:r.parsedType}),X}return Me(t.data)}}_n.create=e=>new _n({typeName:K.ZodNull,...z(e)});class Wt extends W{constructor(){super(...arguments),this._any=!0}_parse(t){return Me(t.data)}}Wt.create=e=>new Wt({typeName:K.ZodAny,...z(e)});class kt extends W{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Me(t.data)}}kt.create=e=>new kt({typeName:K.ZodUnknown,...z(e)});class _t extends W{_parse(t){const n=this._getOrReturnCtx(t);return P(n,{code:O.invalid_type,expected:L.never,received:n.parsedType}),X}}_t.create=e=>new _t({typeName:K.ZodNever,...z(e)});class ar extends W{_parse(t){if(this._getType(t)!==L.undefined){const r=this._getOrReturnCtx(t);return P(r,{code:O.invalid_type,expected:L.void,received:r.parsedType}),X}return Me(t.data)}}ar.create=e=>new ar({typeName:K.ZodVoid,...z(e)});class We extends W{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==L.array)return P(n,{code:O.invalid_type,expected:L.array,received:n.parsedType}),X;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,c=n.data.length<i.exactLength.value;(o||c)&&(P(n,{code:o?O.too_big:O.too_small,minimum:c?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(P(n,{code:O.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(P(n,{code:O.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,c)=>i.type._parseAsync(new tt(n,o,n.path,c)))).then(o=>Re.mergeArray(r,o));const a=[...n.data].map((o,c)=>i.type._parseSync(new tt(n,o,n.path,c)));return Re.mergeArray(r,a)}get element(){return this._def.type}min(t,n){return new We({...this._def,minLength:{value:t,message:H.toString(n)}})}max(t,n){return new We({...this._def,maxLength:{value:t,message:H.toString(n)}})}length(t,n){return new We({...this._def,exactLength:{value:t,message:H.toString(n)}})}nonempty(t){return this.min(1,t)}}We.create=(e,t)=>new We({type:e,minLength:null,maxLength:null,exactLength:null,typeName:K.ZodArray,...z(t)});function Yt(e){if(e instanceof he){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=mt.create(Yt(r))}return new he({...e._def,shape:()=>t})}else return e instanceof We?new We({...e._def,type:Yt(e.element)}):e instanceof mt?mt.create(Yt(e.unwrap())):e instanceof Zt?Zt.create(Yt(e.unwrap())):e instanceof nt?nt.create(e.items.map(t=>Yt(t))):e}class he extends W{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=re.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==L.object){const p=this._getOrReturnCtx(t);return P(p,{code:O.invalid_type,expected:L.object,received:p.parsedType}),X}const{status:r,ctx:i}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),c=[];if(!(this._def.catchall instanceof _t&&this._def.unknownKeys==="strip"))for(const p in i.data)o.includes(p)||c.push(p);const h=[];for(const p of o){const f=a[p],m=i.data[p];h.push({key:{status:"valid",value:p},value:f._parse(new tt(i,m,i.path,p)),alwaysSet:p in i.data})}if(this._def.catchall instanceof _t){const p=this._def.unknownKeys;if(p==="passthrough")for(const f of c)h.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(p==="strict")c.length>0&&(P(i,{code:O.unrecognized_keys,keys:c}),r.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const f of c){const m=i.data[f];h.push({key:{status:"valid",value:f},value:p._parse(new tt(i,m,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const p=[];for(const f of h){const m=await f.key;p.push({key:m,value:await f.value,alwaysSet:f.alwaysSet})}return p}).then(p=>Re.mergeObjectSync(r,p)):Re.mergeObjectSync(r,h)}get shape(){return this._def.shape()}strict(t){return H.errToObj,new he({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var i,a,o,c;const h=(o=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(c=H.errToObj(t).message)!==null&&c!==void 0?c:h}:{message:h}}}:{}})}strip(){return new he({...this._def,unknownKeys:"strip"})}passthrough(){return new he({...this._def,unknownKeys:"passthrough"})}extend(t){return new he({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new he({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:K.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new he({...this._def,catchall:t})}pick(t){const n={};return re.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new he({...this._def,shape:()=>n})}omit(t){const n={};return re.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new he({...this._def,shape:()=>n})}deepPartial(){return Yt(this)}partial(t){const n={};return re.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}),new he({...this._def,shape:()=>n})}required(t){const n={};return re.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof mt;)a=a._def.innerType;n[r]=a}}),new he({...this._def,shape:()=>n})}keyof(){return Ki(re.objectKeys(this.shape))}}he.create=(e,t)=>new he({shape:()=>e,unknownKeys:"strip",catchall:_t.create(),typeName:K.ZodObject,...z(t)});he.strictCreate=(e,t)=>new he({shape:()=>e,unknownKeys:"strict",catchall:_t.create(),typeName:K.ZodObject,...z(t)});he.lazycreate=(e,t)=>new he({shape:e,unknownKeys:"strip",catchall:_t.create(),typeName:K.ZodObject,...z(t)});class vn extends W{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function i(a){for(const c of a)if(c.result.status==="valid")return c.result;for(const c of a)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const o=a.map(c=>new ze(c.ctx.common.issues));return P(n,{code:O.invalid_union,unionErrors:o}),X}if(n.common.async)return Promise.all(r.map(async a=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const h of r){const p={...n,common:{...n.common,issues:[]},parent:null},f=h._parseSync({data:n.data,path:n.path,parent:p});if(f.status==="valid")return f;f.status==="dirty"&&!a&&(a={result:f,ctx:p}),p.common.issues.length&&o.push(p.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const c=o.map(h=>new ze(h));return P(n,{code:O.invalid_union,unionErrors:c}),X}}get options(){return this._def.options}}vn.create=(e,t)=>new vn({options:e,typeName:K.ZodUnion,...z(t)});const er=e=>e instanceof Tn?er(e.schema):e instanceof Ce?er(e.innerType()):e instanceof bn?[e.value]:e instanceof Nt?e.options:e instanceof wn?Object.keys(e.enum):e instanceof An?er(e._def.innerType):e instanceof gn?[void 0]:e instanceof _n?[null]:null;class hr extends W{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==L.object)return P(n,{code:O.invalid_type,expected:L.object,received:n.parsedType}),X;const r=this.discriminator,i=n.data[r],a=this.optionsMap.get(i);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(P(n,{code:O.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),X)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const i=new Map;for(const a of n){const o=er(a.shape[t]);if(!o)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const c of o){if(i.has(c))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(c)}`);i.set(c,a)}}return new hr({typeName:K.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:i,...z(r)})}}function Kr(e,t){const n=bt(e),r=bt(t);if(e===t)return{valid:!0,data:e};if(n===L.object&&r===L.object){const i=re.objectKeys(t),a=re.objectKeys(e).filter(c=>i.indexOf(c)!==-1),o={...e,...t};for(const c of a){const h=Kr(e[c],t[c]);if(!h.valid)return{valid:!1};o[c]=h.data}return{valid:!0,data:o}}else if(n===L.array&&r===L.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let a=0;a<e.length;a++){const o=e[a],c=t[a],h=Kr(o,c);if(!h.valid)return{valid:!1};i.push(h.data)}return{valid:!0,data:i}}else return n===L.date&&r===L.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class yn extends W{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=(a,o)=>{if(jr(a)||jr(o))return X;const c=Kr(a.value,o.value);return c.valid?((qr(a)||qr(o))&&n.dirty(),{status:n.value,value:c.data}):(P(r,{code:O.invalid_intersection_types}),X)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}yn.create=(e,t,n)=>new yn({left:e,right:t,typeName:K.ZodIntersection,...z(n)});class nt extends W{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==L.array)return P(r,{code:O.invalid_type,expected:L.array,received:r.parsedType}),X;if(r.data.length<this._def.items.length)return P(r,{code:O.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),X;!this._def.rest&&r.data.length>this._def.items.length&&(P(r,{code:O.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((o,c)=>{const h=this._def.items[c]||this._def.rest;return h?h._parse(new tt(r,o,r.path,c)):null}).filter(o=>!!o);return r.common.async?Promise.all(a).then(o=>Re.mergeArray(n,o)):Re.mergeArray(n,a)}get items(){return this._def.items}rest(t){return new nt({...this._def,rest:t})}}nt.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new nt({items:e,typeName:K.ZodTuple,rest:null,...z(t)})};class En extends W{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==L.object)return P(r,{code:O.invalid_type,expected:L.object,received:r.parsedType}),X;const i=[],a=this._def.keyType,o=this._def.valueType;for(const c in r.data)i.push({key:a._parse(new tt(r,c,r.path,c)),value:o._parse(new tt(r,r.data[c],r.path,c))});return r.common.async?Re.mergeObjectAsync(n,i):Re.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof W?new En({keyType:t,valueType:n,typeName:K.ZodRecord,...z(r)}):new En({keyType:Xe.create(),valueType:t,typeName:K.ZodRecord,...z(n)})}}class sr extends W{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==L.map)return P(r,{code:O.invalid_type,expected:L.map,received:r.parsedType}),X;const i=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map(([c,h],p)=>({key:i._parse(new tt(r,c,r.path,[p,"key"])),value:a._parse(new tt(r,h,r.path,[p,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const h of o){const p=await h.key,f=await h.value;if(p.status==="aborted"||f.status==="aborted")return X;(p.status==="dirty"||f.status==="dirty")&&n.dirty(),c.set(p.value,f.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const h of o){const p=h.key,f=h.value;if(p.status==="aborted"||f.status==="aborted")return X;(p.status==="dirty"||f.status==="dirty")&&n.dirty(),c.set(p.value,f.value)}return{status:n.value,value:c}}}}sr.create=(e,t,n)=>new sr({valueType:t,keyType:e,typeName:K.ZodMap,...z(n)});class Gt extends W{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==L.set)return P(r,{code:O.invalid_type,expected:L.set,received:r.parsedType}),X;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(P(r,{code:O.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(P(r,{code:O.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function o(h){const p=new Set;for(const f of h){if(f.status==="aborted")return X;f.status==="dirty"&&n.dirty(),p.add(f.value)}return{status:n.value,value:p}}const c=[...r.data.values()].map((h,p)=>a._parse(new tt(r,h,r.path,p)));return r.common.async?Promise.all(c).then(h=>o(h)):o(c)}min(t,n){return new Gt({...this._def,minSize:{value:t,message:H.toString(n)}})}max(t,n){return new Gt({...this._def,maxSize:{value:t,message:H.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Gt.create=(e,t)=>new Gt({valueType:e,minSize:null,maxSize:null,typeName:K.ZodSet,...z(t)});class Xt extends W{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==L.function)return P(n,{code:O.invalid_type,expected:L.function,received:n.parsedType}),X;function r(c,h){return nr({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,tr(),dn].filter(p=>!!p),issueData:{code:O.invalid_arguments,argumentsError:h}})}function i(c,h){return nr({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,tr(),dn].filter(p=>!!p),issueData:{code:O.invalid_return_type,returnTypeError:h}})}const a={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Ct){const c=this;return Me(async function(...h){const p=new ze([]),f=await c._def.args.parseAsync(h,a).catch(x=>{throw p.addIssue(r(h,x)),p}),m=await Reflect.apply(o,this,f);return await c._def.returns._def.type.parseAsync(m,a).catch(x=>{throw p.addIssue(i(m,x)),p})})}else{const c=this;return Me(function(...h){const p=c._def.args.safeParse(h,a);if(!p.success)throw new ze([r(h,p.error)]);const f=Reflect.apply(o,this,p.data),m=c._def.returns.safeParse(f,a);if(!m.success)throw new ze([i(f,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Xt({...this._def,args:nt.create(t).rest(kt.create())})}returns(t){return new Xt({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new Xt({args:t||nt.create([]).rest(kt.create()),returns:n||kt.create(),typeName:K.ZodFunction,...z(r)})}}class Tn extends W{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Tn.create=(e,t)=>new Tn({getter:e,typeName:K.ZodLazy,...z(t)});class bn extends W{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return P(n,{received:n.data,code:O.invalid_literal,expected:this._def.value}),X}return{status:"valid",value:t.data}}get value(){return this._def.value}}bn.create=(e,t)=>new bn({value:e,typeName:K.ZodLiteral,...z(t)});function Ki(e,t){return new Nt({values:e,typeName:K.ZodEnum,...z(t)})}class Nt extends W{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return P(n,{expected:re.joinValues(r),received:n.parsedType,code:O.invalid_type}),X}if(this._def.values.indexOf(t.data)===-1){const n=this._getOrReturnCtx(t),r=this._def.values;return P(n,{received:n.data,code:O.invalid_enum_value,options:r}),X}return Me(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t){return Nt.create(t)}exclude(t){return Nt.create(this.options.filter(n=>!t.includes(n)))}}Nt.create=Ki;class wn extends W{_parse(t){const n=re.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==L.string&&r.parsedType!==L.number){const i=re.objectValues(n);return P(r,{expected:re.joinValues(i),received:r.parsedType,code:O.invalid_type}),X}if(n.indexOf(t.data)===-1){const i=re.objectValues(n);return P(r,{received:r.data,code:O.invalid_enum_value,options:i}),X}return Me(t.data)}get enum(){return this._def.values}}wn.create=(e,t)=>new wn({values:e,typeName:K.ZodNativeEnum,...z(t)});class Ct extends W{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==L.promise&&n.common.async===!1)return P(n,{code:O.invalid_type,expected:L.promise,received:n.parsedType}),X;const r=n.parsedType===L.promise?n.data:Promise.resolve(n.data);return Me(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ct.create=(e,t)=>new Ct({type:e,typeName:K.ZodPromise,...z(t)});class Ce extends W{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===K.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null,a={addIssue:o=>{P(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(r.data,a);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(o).then(c=>this._def.schema._parseAsync({data:c,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}if(i.type==="refinement"){const o=c=>{const h=i.refinement(c,a);if(r.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?X:(c.status==="dirty"&&n.dirty(),o(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?X:(c.status==="dirty"&&n.dirty(),o(c.value).then(()=>({status:n.value,value:c.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!hn(o))return o;const c=i.transform(o.value,a);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>hn(o)?Promise.resolve(i.transform(o.value,a)).then(c=>({status:n.value,value:c})):o);re.assertNever(i)}}Ce.create=(e,t,n)=>new Ce({schema:e,typeName:K.ZodEffects,effect:t,...z(n)});Ce.createWithPreprocess=(e,t,n)=>new Ce({schema:t,effect:{type:"preprocess",transform:e},typeName:K.ZodEffects,...z(n)});class mt extends W{_parse(t){return this._getType(t)===L.undefined?Me(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}mt.create=(e,t)=>new mt({innerType:e,typeName:K.ZodOptional,...z(t)});class Zt extends W{_parse(t){return this._getType(t)===L.null?Me(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Zt.create=(e,t)=>new Zt({innerType:e,typeName:K.ZodNullable,...z(t)});class An extends W{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===L.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}An.create=(e,t)=>new An({innerType:e,typeName:K.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...z(t)});class or extends W{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return rr(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ze(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ze(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}or.create=(e,t)=>new or({innerType:e,typeName:K.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...z(t)});class lr extends W{_parse(t){if(this._getType(t)!==L.nan){const r=this._getOrReturnCtx(t);return P(r,{code:O.invalid_type,expected:L.nan,received:r.parsedType}),X}return{status:"valid",value:t.data}}}lr.create=e=>new lr({typeName:K.ZodNaN,...z(e)});const So=Symbol("zod_brand");class Fi extends W{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Nn extends W{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?X:a.status==="dirty"?(n.dirty(),qi(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?X:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new Nn({in:t,out:n,typeName:K.ZodPipeline})}}class ur extends W{_parse(t){const n=this._def.innerType._parse(t);return hn(n)&&(n.value=Object.freeze(n.value)),n}}ur.create=(e,t)=>new ur({innerType:e,typeName:K.ZodReadonly,...z(t)});const Cr=(e,t={},n)=>e?Wt.create().superRefine((r,i)=>{var a,o;if(!e(r)){const c=typeof t=="function"?t(r):typeof t=="string"?{message:t}:t,h=(o=(a=c.fatal)!==null&&a!==void 0?a:n)!==null&&o!==void 0?o:!0,p=typeof c=="string"?{message:c}:c;i.addIssue({code:"custom",...p,fatal:h})}}):Wt.create(),Io={object:he.lazycreate};var K;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(K||(K={}));const No=(e,t={message:`Input not instance of ${e.name}`})=>Cr(n=>n instanceof e,t),y=Xe.create,G=St.create,Oo=lr.create,$i=It.create,$=mn.create,Ro=Bt.create,Do=ir.create,xo=gn.create,Jr=_n.create,Lo=Wt.create,Sn=kt.create,Po=_t.create,Mo=ar.create,ee=We.create,D=he.create,ko=he.strictCreate,Qr=vn.create,Uo=hr.create,Bo=yn.create,Go=nt.create,Zo=En.create,Vo=sr.create,Ho=Gt.create,jo=Xt.create,qo=Tn.create,ye=bn.create,Ko=Nt.create,Jt=wn.create,Fo=Ct.create,Mi=Ce.create,Yi=mt.create,$o=Zt.create,Xi=Ce.createWithPreprocess,Yo=Nn.create,Xo=()=>y().optional(),zo=()=>G().optional(),Wo=()=>$().optional(),Co={string:e=>Xe.create({...e,coerce:!0}),number:e=>St.create({...e,coerce:!0}),boolean:e=>mn.create({...e,coerce:!0}),bigint:e=>It.create({...e,coerce:!0}),date:e=>Bt.create({...e,coerce:!0})},Jo=X;var k=Object.freeze({__proto__:null,defaultErrorMap:dn,setErrorMap:fo,getErrorMap:tr,makeIssue:nr,EMPTY_PATH:po,addIssueToContext:P,ParseStatus:Re,INVALID:X,DIRTY:qi,OK:Me,isAborted:jr,isDirty:qr,isValid:hn,isAsync:rr,get util(){return re},get objectUtil(){return Hr},ZodParsedType:L,getParsedType:bt,ZodType:W,ZodString:Xe,ZodNumber:St,ZodBigInt:It,ZodBoolean:mn,ZodDate:Bt,ZodSymbol:ir,ZodUndefined:gn,ZodNull:_n,ZodAny:Wt,ZodUnknown:kt,ZodNever:_t,ZodVoid:ar,ZodArray:We,ZodObject:he,ZodUnion:vn,ZodDiscriminatedUnion:hr,ZodIntersection:yn,ZodTuple:nt,ZodRecord:En,ZodMap:sr,ZodSet:Gt,ZodFunction:Xt,ZodLazy:Tn,ZodLiteral:bn,ZodEnum:Nt,ZodNativeEnum:wn,ZodPromise:Ct,ZodEffects:Ce,ZodTransformer:Ce,ZodOptional:mt,ZodNullable:Zt,ZodDefault:An,ZodCatch:or,ZodNaN:lr,BRAND:So,ZodBranded:Fi,ZodPipeline:Nn,ZodReadonly:ur,custom:Cr,Schema:W,ZodSchema:W,late:Io,get ZodFirstPartyTypeKind(){return K},coerce:Co,any:Lo,array:ee,bigint:$i,boolean:$,date:Ro,discriminatedUnion:Uo,effect:Mi,enum:Ko,function:jo,instanceof:No,intersection:Bo,lazy:qo,literal:ye,map:Vo,nan:Oo,nativeEnum:Jt,never:Po,null:Jr,nullable:$o,number:G,object:D,oboolean:Wo,onumber:zo,optional:Yi,ostring:Xo,pipeline:Yo,preprocess:Xi,promise:Fo,record:Zo,set:Ho,strictObject:ko,string:y,symbol:Do,transformer:Mi,tuple:Go,undefined:xo,union:Qr,unknown:Sn,void:Mo,NEVER:Jo,ZodIssueCode:O,quotelessJson:co,ZodError:ze}),zi={exports:{}};(function(e){var t=function(n){var r=1e7,i=7,a=9007199254740992,o=V(a),c="0123456789abcdefghijklmnopqrstuvwxyz",h=typeof BigInt=="function";function p(s,u,g,v){return typeof s>"u"?p[0]:typeof u<"u"?+u==10&&!g?q(s):Bn(s,u,g,v):q(s)}function f(s,u){this.value=s,this.sign=u,this.isSmall=!1}f.prototype=Object.create(p.prototype);function m(s){this.value=s,this.sign=s<0,this.isSmall=!0}m.prototype=Object.create(p.prototype);function b(s){this.value=s}b.prototype=Object.create(p.prototype);function x(s){return-a<s&&s<a}function V(s){return s<1e7?[s]:s<1e14?[s%1e7,Math.floor(s/1e7)]:[s%1e7,Math.floor(s/1e7)%1e7,Math.floor(s/1e14)]}function B(s){R(s);var u=s.length;if(u<4&&at(s,o)<0)switch(u){case 0:return 0;case 1:return s[0];case 2:return s[0]+s[1]*r;default:return s[0]+(s[1]+s[2]*r)*r}return s}function R(s){for(var u=s.length;s[--u]===0;);s.length=u+1}function ue(s){for(var u=new Array(s),g=-1;++g<s;)u[g]=0;return u}function C(s){return s>0?Math.floor(s):Math.ceil(s)}function J(s,u){var g=s.length,v=u.length,T=new Array(g),E=0,A=r,S,I;for(I=0;I<v;I++)S=s[I]+u[I]+E,E=S>=A?1:0,T[I]=S-E*A;for(;I<g;)S=s[I]+E,E=S===A?1:0,T[I++]=S-E*A;return E>0&&T.push(E),T}function me(s,u){return s.length>=u.length?J(s,u):J(u,s)}function pe(s,u){var g=s.length,v=new Array(g),T=r,E,A;for(A=0;A<g;A++)E=s[A]-T+u,u=Math.floor(E/T),v[A]=E-u*T,u+=1;for(;u>0;)v[A++]=u%T,u=Math.floor(u/T);return v}f.prototype.add=function(s){var u=q(s);if(this.sign!==u.sign)return this.subtract(u.negate());var g=this.value,v=u.value;return u.isSmall?new f(pe(g,Math.abs(v)),this.sign):new f(me(g,v),this.sign)},f.prototype.plus=f.prototype.add,m.prototype.add=function(s){var u=q(s),g=this.value;if(g<0!==u.sign)return this.subtract(u.negate());var v=u.value;if(u.isSmall){if(x(g+v))return new m(g+v);v=V(Math.abs(v))}return new f(pe(v,Math.abs(g)),g<0)},m.prototype.plus=m.prototype.add,b.prototype.add=function(s){return new b(this.value+q(s).value)},b.prototype.plus=b.prototype.add;function ke(s,u){var g=s.length,v=u.length,T=new Array(g),E=0,A=r,S,I;for(S=0;S<v;S++)I=s[S]-E-u[S],I<0?(I+=A,E=1):E=0,T[S]=I;for(S=v;S<g;S++){if(I=s[S]-E,I<0)I+=A;else{T[S++]=I;break}T[S]=I}for(;S<g;S++)T[S]=s[S];return R(T),T}function we(s,u,g){var v;return at(s,u)>=0?v=ke(s,u):(v=ke(u,s),g=!g),v=B(v),typeof v=="number"?(g&&(v=-v),new m(v)):new f(v,g)}function Ge(s,u,g){var v=s.length,T=new Array(v),E=-u,A=r,S,I;for(S=0;S<v;S++)I=s[S]+E,E=Math.floor(I/A),I%=A,T[S]=I<0?I+A:I;return T=B(T),typeof T=="number"?(g&&(T=-T),new m(T)):new f(T,g)}f.prototype.subtract=function(s){var u=q(s);if(this.sign!==u.sign)return this.add(u.negate());var g=this.value,v=u.value;return u.isSmall?Ge(g,Math.abs(v),this.sign):we(g,v,this.sign)},f.prototype.minus=f.prototype.subtract,m.prototype.subtract=function(s){var u=q(s),g=this.value;if(g<0!==u.sign)return this.add(u.negate());var v=u.value;return u.isSmall?new m(g-v):Ge(v,Math.abs(g),g>=0)},m.prototype.minus=m.prototype.subtract,b.prototype.subtract=function(s){return new b(this.value-q(s).value)},b.prototype.minus=b.prototype.subtract,f.prototype.negate=function(){return new f(this.value,!this.sign)},m.prototype.negate=function(){var s=this.sign,u=new m(-this.value);return u.sign=!s,u},b.prototype.negate=function(){return new b(-this.value)},f.prototype.abs=function(){return new f(this.value,!1)},m.prototype.abs=function(){return new m(Math.abs(this.value))},b.prototype.abs=function(){return new b(this.value>=0?this.value:-this.value)};function Fe(s,u){var g=s.length,v=u.length,T=g+v,E=ue(T),A=r,S,I,j,Q,F;for(j=0;j<g;++j){Q=s[j];for(var te=0;te<v;++te)F=u[te],S=Q*F+E[j+te],I=Math.floor(S/A),E[j+te]=S-I*A,E[j+te+1]+=I}return R(E),E}function Ve(s,u){var g=s.length,v=new Array(g),T=r,E=0,A,S;for(S=0;S<g;S++)A=s[S]*u+E,E=Math.floor(A/T),v[S]=A-E*T;for(;E>0;)v[S++]=E%T,E=Math.floor(E/T);return v}function xe(s,u){for(var g=[];u-- >0;)g.push(0);return g.concat(s)}function oe(s,u){var g=Math.max(s.length,u.length);if(g<=30)return Fe(s,u);g=Math.ceil(g/2);var v=s.slice(g),T=s.slice(0,g),E=u.slice(g),A=u.slice(0,g),S=oe(T,A),I=oe(v,E),j=oe(me(T,v),me(A,E)),Q=me(me(S,xe(ke(ke(j,S),I),g)),xe(I,2*g));return R(Q),Q}function br(s,u){return-.012*s-.012*u+15e-6*s*u>0}f.prototype.multiply=function(s){var u=q(s),g=this.value,v=u.value,T=this.sign!==u.sign,E;if(u.isSmall){if(v===0)return p[0];if(v===1)return this;if(v===-1)return this.negate();if(E=Math.abs(v),E<r)return new f(Ve(g,E),T);v=V(E)}return br(g.length,v.length)?new f(oe(g,v),T):new f(Fe(g,v),T)},f.prototype.times=f.prototype.multiply;function On(s,u,g){return s<r?new f(Ve(u,s),g):new f(Fe(u,V(s)),g)}m.prototype._multiplyBySmall=function(s){return x(s.value*this.value)?new m(s.value*this.value):On(Math.abs(s.value),V(Math.abs(this.value)),this.sign!==s.sign)},f.prototype._multiplyBySmall=function(s){return s.value===0?p[0]:s.value===1?this:s.value===-1?this.negate():On(Math.abs(s.value),this.value,this.sign!==s.sign)},m.prototype.multiply=function(s){return q(s)._multiplyBySmall(this)},m.prototype.times=m.prototype.multiply,b.prototype.multiply=function(s){return new b(this.value*q(s).value)},b.prototype.times=b.prototype.multiply;function Rn(s){var u=s.length,g=ue(u+u),v=r,T,E,A,S,I;for(A=0;A<u;A++){S=s[A],E=0-S*S;for(var j=A;j<u;j++)I=s[j],T=2*(S*I)+g[A+j]+E,E=Math.floor(T/v),g[A+j]=T-E*v;g[A+u]=E}return R(g),g}f.prototype.square=function(){return new f(Rn(this.value),!1)},m.prototype.square=function(){var s=this.value*this.value;return x(s)?new m(s):new f(Rn(V(Math.abs(this.value))),!1)},b.prototype.square=function(s){return new b(this.value*this.value)};function wr(s,u){var g=s.length,v=u.length,T=r,E=ue(u.length),A=u[v-1],S=Math.ceil(T/(2*A)),I=Ve(s,S),j=Ve(u,S),Q,F,te,Le,Ae,sn,on;for(I.length<=g&&I.push(0),j.push(0),A=j[v-1],F=g-v;F>=0;F--){for(Q=T-1,I[F+v]!==A&&(Q=Math.floor((I[F+v]*T+I[F+v-1])/A)),te=0,Le=0,sn=j.length,Ae=0;Ae<sn;Ae++)te+=Q*j[Ae],on=Math.floor(te/T),Le+=I[F+Ae]-(te-on*T),te=on,Le<0?(I[F+Ae]=Le+T,Le=-1):(I[F+Ae]=Le,Le=0);for(;Le!==0;){for(Q-=1,te=0,Ae=0;Ae<sn;Ae++)te+=I[F+Ae]-T+j[Ae],te<0?(I[F+Ae]=te+T,te=0):(I[F+Ae]=te,te=1);Le+=te}E[F]=Q}return I=Dn(I,S)[0],[B(E),B(I)]}function Ar(s,u){for(var g=s.length,v=u.length,T=[],E=[],A=r,S,I,j,Q,F;g;){if(E.unshift(s[--g]),R(E),at(E,u)<0){T.push(0);continue}I=E.length,j=E[I-1]*A+E[I-2],Q=u[v-1]*A+u[v-2],I>v&&(j=(j+1)*A),S=Math.ceil(j/Q);do{if(F=Ve(u,S),at(F,E)<=0)break;S--}while(S);T.push(S),E=ke(E,F)}return T.reverse(),[B(T),B(E)]}function Dn(s,u){var g=s.length,v=ue(g),T=r,E,A,S,I;for(S=0,E=g-1;E>=0;--E)I=S*T+s[E],A=C(I/u),S=I-A*u,v[E]=A|0;return[v,S|0]}function it(s,u){var g,v=q(u);if(h)return[new b(s.value/v.value),new b(s.value%v.value)];var T=s.value,E=v.value,A;if(E===0)throw new Error("Cannot divide by zero");if(s.isSmall)return v.isSmall?[new m(C(T/E)),new m(T%E)]:[p[0],s];if(v.isSmall){if(E===1)return[s,p[0]];if(E==-1)return[s.negate(),p[0]];var S=Math.abs(E);if(S<r){g=Dn(T,S),A=B(g[0]);var I=g[1];return s.sign&&(I=-I),typeof A=="number"?(s.sign!==v.sign&&(A=-A),[new m(A),new m(I)]):[new f(A,s.sign!==v.sign),new m(I)]}E=V(S)}var j=at(T,E);if(j===-1)return[p[0],s];if(j===0)return[p[s.sign===v.sign?1:-1],p[0]];T.length+E.length<=200?g=wr(T,E):g=Ar(T,E),A=g[0];var Q=s.sign!==v.sign,F=g[1],te=s.sign;return typeof A=="number"?(Q&&(A=-A),A=new m(A)):A=new f(A,Q),typeof F=="number"?(te&&(F=-F),F=new m(F)):F=new f(F,te),[A,F]}f.prototype.divmod=function(s){var u=it(this,s);return{quotient:u[0],remainder:u[1]}},b.prototype.divmod=m.prototype.divmod=f.prototype.divmod,f.prototype.divide=function(s){return it(this,s)[0]},b.prototype.over=b.prototype.divide=function(s){return new b(this.value/q(s).value)},m.prototype.over=m.prototype.divide=f.prototype.over=f.prototype.divide,f.prototype.mod=function(s){return it(this,s)[1]},b.prototype.mod=b.prototype.remainder=function(s){return new b(this.value%q(s).value)},m.prototype.remainder=m.prototype.mod=f.prototype.remainder=f.prototype.mod,f.prototype.pow=function(s){var u=q(s),g=this.value,v=u.value,T,E,A;if(v===0)return p[1];if(g===0)return p[0];if(g===1)return p[1];if(g===-1)return u.isEven()?p[1]:p[-1];if(u.sign)return p[0];if(!u.isSmall)throw new Error("The exponent "+u.toString()+" is too large.");if(this.isSmall&&x(T=Math.pow(g,v)))return new m(C(T));for(E=this,A=p[1];v&!0&&(A=A.times(E),--v),v!==0;)v/=2,E=E.square();return A},m.prototype.pow=f.prototype.pow,b.prototype.pow=function(s){var u=q(s),g=this.value,v=u.value,T=BigInt(0),E=BigInt(1),A=BigInt(2);if(v===T)return p[1];if(g===T)return p[0];if(g===E)return p[1];if(g===BigInt(-1))return u.isEven()?p[1]:p[-1];if(u.isNegative())return new b(T);for(var S=this,I=p[1];(v&E)===E&&(I=I.times(S),--v),v!==T;)v/=A,S=S.square();return I},f.prototype.modPow=function(s,u){if(s=q(s),u=q(u),u.isZero())throw new Error("Cannot take modPow with modulus 0");var g=p[1],v=this.mod(u);for(s.isNegative()&&(s=s.multiply(p[-1]),v=v.modInv(u));s.isPositive();){if(v.isZero())return p[0];s.isOdd()&&(g=g.multiply(v).mod(u)),s=s.divide(2),v=v.square().mod(u)}return g},b.prototype.modPow=m.prototype.modPow=f.prototype.modPow;function at(s,u){if(s.length!==u.length)return s.length>u.length?1:-1;for(var g=s.length-1;g>=0;g--)if(s[g]!==u[g])return s[g]>u[g]?1:-1;return 0}f.prototype.compareAbs=function(s){var u=q(s),g=this.value,v=u.value;return u.isSmall?1:at(g,v)},m.prototype.compareAbs=function(s){var u=q(s),g=Math.abs(this.value),v=u.value;return u.isSmall?(v=Math.abs(v),g===v?0:g>v?1:-1):-1},b.prototype.compareAbs=function(s){var u=this.value,g=q(s).value;return u=u>=0?u:-u,g=g>=0?g:-g,u===g?0:u>g?1:-1},f.prototype.compare=function(s){if(s===1/0)return-1;if(s===-1/0)return 1;var u=q(s),g=this.value,v=u.value;return this.sign!==u.sign?u.sign?1:-1:u.isSmall?this.sign?-1:1:at(g,v)*(this.sign?-1:1)},f.prototype.compareTo=f.prototype.compare,m.prototype.compare=function(s){if(s===1/0)return-1;if(s===-1/0)return 1;var u=q(s),g=this.value,v=u.value;return u.isSmall?g==v?0:g>v?1:-1:g<0!==u.sign?g<0?-1:1:g<0?1:-1},m.prototype.compareTo=m.prototype.compare,b.prototype.compare=function(s){if(s===1/0)return-1;if(s===-1/0)return 1;var u=this.value,g=q(s).value;return u===g?0:u>g?1:-1},b.prototype.compareTo=b.prototype.compare,f.prototype.equals=function(s){return this.compare(s)===0},b.prototype.eq=b.prototype.equals=m.prototype.eq=m.prototype.equals=f.prototype.eq=f.prototype.equals,f.prototype.notEquals=function(s){return this.compare(s)!==0},b.prototype.neq=b.prototype.notEquals=m.prototype.neq=m.prototype.notEquals=f.prototype.neq=f.prototype.notEquals,f.prototype.greater=function(s){return this.compare(s)>0},b.prototype.gt=b.prototype.greater=m.prototype.gt=m.prototype.greater=f.prototype.gt=f.prototype.greater,f.prototype.lesser=function(s){return this.compare(s)<0},b.prototype.lt=b.prototype.lesser=m.prototype.lt=m.prototype.lesser=f.prototype.lt=f.prototype.lesser,f.prototype.greaterOrEquals=function(s){return this.compare(s)>=0},b.prototype.geq=b.prototype.greaterOrEquals=m.prototype.geq=m.prototype.greaterOrEquals=f.prototype.geq=f.prototype.greaterOrEquals,f.prototype.lesserOrEquals=function(s){return this.compare(s)<=0},b.prototype.leq=b.prototype.lesserOrEquals=m.prototype.leq=m.prototype.lesserOrEquals=f.prototype.leq=f.prototype.lesserOrEquals,f.prototype.isEven=function(){return(this.value[0]&1)===0},m.prototype.isEven=function(){return(this.value&1)===0},b.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},f.prototype.isOdd=function(){return(this.value[0]&1)===1},m.prototype.isOdd=function(){return(this.value&1)===1},b.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},f.prototype.isPositive=function(){return!this.sign},m.prototype.isPositive=function(){return this.value>0},b.prototype.isPositive=m.prototype.isPositive,f.prototype.isNegative=function(){return this.sign},m.prototype.isNegative=function(){return this.value<0},b.prototype.isNegative=m.prototype.isNegative,f.prototype.isUnit=function(){return!1},m.prototype.isUnit=function(){return Math.abs(this.value)===1},b.prototype.isUnit=function(){return this.abs().value===BigInt(1)},f.prototype.isZero=function(){return!1},m.prototype.isZero=function(){return this.value===0},b.prototype.isZero=function(){return this.value===BigInt(0)},f.prototype.isDivisibleBy=function(s){var u=q(s);return u.isZero()?!1:u.isUnit()?!0:u.compareAbs(2)===0?this.isEven():this.mod(u).isZero()},b.prototype.isDivisibleBy=m.prototype.isDivisibleBy=f.prototype.isDivisibleBy;function xn(s){var u=s.abs();if(u.isUnit())return!1;if(u.equals(2)||u.equals(3)||u.equals(5))return!0;if(u.isEven()||u.isDivisibleBy(3)||u.isDivisibleBy(5))return!1;if(u.lesser(49))return!0}function nn(s,u){for(var g=s.prev(),v=g,T=0,E,A,S;v.isEven();)v=v.divide(2),T++;e:for(A=0;A<u.length;A++)if(!s.lesser(u[A])&&(S=t(u[A]).modPow(v,s),!(S.isUnit()||S.equals(g)))){for(E=T-1;E!=0;E--){if(S=S.square().mod(s),S.isUnit())return!1;if(S.equals(g))continue e}return!1}return!0}f.prototype.isPrime=function(s){var u=xn(this);if(u!==n)return u;var g=this.abs(),v=g.bitLength();if(v<=64)return nn(g,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var T=Math.log(2)*v.toJSNumber(),E=Math.ceil(s===!0?2*Math.pow(T,2):T),A=[],S=0;S<E;S++)A.push(t(S+2));return nn(g,A)},b.prototype.isPrime=m.prototype.isPrime=f.prototype.isPrime,f.prototype.isProbablePrime=function(s,u){var g=xn(this);if(g!==n)return g;for(var v=this.abs(),T=s===n?5:s,E=[],A=0;A<T;A++)E.push(t.randBetween(2,v.minus(2),u));return nn(v,E)},b.prototype.isProbablePrime=m.prototype.isProbablePrime=f.prototype.isProbablePrime,f.prototype.modInv=function(s){for(var u=t.zero,g=t.one,v=q(s),T=this.abs(),E,A,S;!T.isZero();)E=v.divide(T),A=u,S=v,u=g,v=T,g=A.subtract(E.multiply(g)),T=S.subtract(E.multiply(T));if(!v.isUnit())throw new Error(this.toString()+" and "+s.toString()+" are not co-prime");return u.compare(0)===-1&&(u=u.add(s)),this.isNegative()?u.negate():u},b.prototype.modInv=m.prototype.modInv=f.prototype.modInv,f.prototype.next=function(){var s=this.value;return this.sign?Ge(s,1,this.sign):new f(pe(s,1),this.sign)},m.prototype.next=function(){var s=this.value;return s+1<a?new m(s+1):new f(o,!1)},b.prototype.next=function(){return new b(this.value+BigInt(1))},f.prototype.prev=function(){var s=this.value;return this.sign?new f(pe(s,1),!0):Ge(s,1,this.sign)},m.prototype.prev=function(){var s=this.value;return s-1>-a?new m(s-1):new f(o,!0)},b.prototype.prev=function(){return new b(this.value-BigInt(1))};for(var $e=[1];2*$e[$e.length-1]<=r;)$e.push(2*$e[$e.length-1]);var Rt=$e.length,st=$e[Rt-1];function Ln(s){return Math.abs(s)<=r}f.prototype.shiftLeft=function(s){var u=q(s).toJSNumber();if(!Ln(u))throw new Error(String(u)+" is too large for shifting.");if(u<0)return this.shiftRight(-u);var g=this;if(g.isZero())return g;for(;u>=Rt;)g=g.multiply(st),u-=Rt-1;return g.multiply($e[u])},b.prototype.shiftLeft=m.prototype.shiftLeft=f.prototype.shiftLeft,f.prototype.shiftRight=function(s){var u,g=q(s).toJSNumber();if(!Ln(g))throw new Error(String(g)+" is too large for shifting.");if(g<0)return this.shiftLeft(-g);for(var v=this;g>=Rt;){if(v.isZero()||v.isNegative()&&v.isUnit())return v;u=it(v,st),v=u[1].isNegative()?u[0].prev():u[0],g-=Rt-1}return u=it(v,$e[g]),u[1].isNegative()?u[0].prev():u[0]},b.prototype.shiftRight=m.prototype.shiftRight=f.prototype.shiftRight;function rn(s,u,g){u=q(u);for(var v=s.isNegative(),T=u.isNegative(),E=v?s.not():s,A=T?u.not():u,S=0,I=0,j=null,Q=null,F=[];!E.isZero()||!A.isZero();)j=it(E,st),S=j[1].toJSNumber(),v&&(S=st-1-S),Q=it(A,st),I=Q[1].toJSNumber(),T&&(I=st-1-I),E=j[0],A=Q[0],F.push(g(S,I));for(var te=g(v?1:0,T?1:0)!==0?t(-1):t(0),Le=F.length-1;Le>=0;Le-=1)te=te.multiply(st).add(t(F[Le]));return te}f.prototype.not=function(){return this.negate().prev()},b.prototype.not=m.prototype.not=f.prototype.not,f.prototype.and=function(s){return rn(this,s,function(u,g){return u&g})},b.prototype.and=m.prototype.and=f.prototype.and,f.prototype.or=function(s){return rn(this,s,function(u,g){return u|g})},b.prototype.or=m.prototype.or=f.prototype.or,f.prototype.xor=function(s){return rn(this,s,function(u,g){return u^g})},b.prototype.xor=m.prototype.xor=f.prototype.xor;var ie=1<<30,Pn=(r&-r)*(r&-r)|ie;function qt(s){var u=s.value,g=typeof u=="number"?u|ie:typeof u=="bigint"?u|BigInt(ie):u[0]+u[1]*r|Pn;return g&-g}function Ye(s,u){if(u.compareTo(s)<=0){var g=Ye(s,u.square(u)),v=g.p,T=g.e,E=v.multiply(u);return E.compareTo(s)<=0?{p:E,e:T*2+1}:{p:v,e:T*2}}return{p:t(1),e:0}}f.prototype.bitLength=function(){var s=this;return s.compareTo(t(0))<0&&(s=s.negate().subtract(t(1))),s.compareTo(t(0))===0?t(0):t(Ye(s,t(2)).e).add(t(1))},b.prototype.bitLength=m.prototype.bitLength=f.prototype.bitLength;function an(s,u){return s=q(s),u=q(u),s.greater(u)?s:u}function Kt(s,u){return s=q(s),u=q(u),s.lesser(u)?s:u}function Mn(s,u){if(s=q(s).abs(),u=q(u).abs(),s.equals(u))return s;if(s.isZero())return u;if(u.isZero())return s;for(var g=p[1],v,T;s.isEven()&&u.isEven();)v=Kt(qt(s),qt(u)),s=s.divide(v),u=u.divide(v),g=g.multiply(v);for(;s.isEven();)s=s.divide(qt(s));do{for(;u.isEven();)u=u.divide(qt(u));s.greater(u)&&(T=u,u=s,s=T),u=u.subtract(s)}while(!u.isZero());return g.isUnit()?s:s.multiply(g)}function kn(s,u){return s=q(s).abs(),u=q(u).abs(),s.divide(Mn(s,u)).multiply(u)}function Un(s,u,g){s=q(s),u=q(u);var v=g||Math.random,T=Kt(s,u),E=an(s,u),A=E.subtract(T).add(1);if(A.isSmall)return T.add(Math.floor(v()*A));for(var S=Dt(A,r).value,I=[],j=!0,Q=0;Q<S.length;Q++){var F=j?S[Q]:r,te=C(v()*F);I.push(te),te<F&&(j=!1)}return T.add(p.fromArray(I,r,!1))}var Bn=function(s,u,g,v){g=g||c,s=String(s),v||(s=s.toLowerCase(),g=g.toLowerCase());var T=s.length,E,A=Math.abs(u),S={};for(E=0;E<g.length;E++)S[g[E]]=E;for(E=0;E<T;E++){var I=s[E];if(I!=="-"&&I in S&&S[I]>=A){if(I==="1"&&A===1)continue;throw new Error(I+" is not a valid digit in base "+u+".")}}u=q(u);var j=[],Q=s[0]==="-";for(E=Q?1:0;E<s.length;E++){var I=s[E];if(I in S)j.push(q(S[I]));else if(I==="<"){var F=E;do E++;while(s[E]!==">"&&E<s.length);j.push(q(s.slice(F+1,E)))}else throw new Error(I+" is not a valid character")}return Gn(j,u,Q)};function Gn(s,u,g){var v=p[0],T=p[1],E;for(E=s.length-1;E>=0;E--)v=v.add(s[E].times(T)),T=T.times(u);return g?v.negate():v}function Sr(s,u){return u=u||c,s<u.length?u[s]:"<"+s+">"}function Dt(s,u){if(u=t(u),u.isZero()){if(s.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(u.equals(-1)){if(s.isZero())return{value:[0],isNegative:!1};if(s.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-s.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var g=Array.apply(null,Array(s.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return g.unshift([1]),{value:[].concat.apply([],g),isNegative:!1}}var v=!1;if(s.isNegative()&&u.isPositive()&&(v=!0,s=s.abs()),u.isUnit())return s.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(s.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:v};for(var T=[],E=s,A;E.isNegative()||E.compareAbs(u)>=0;){A=E.divmod(u),E=A.quotient;var S=A.remainder;S.isNegative()&&(S=u.minus(S).abs(),E=E.next()),T.push(S.toJSNumber())}return T.push(E.toJSNumber()),{value:T.reverse(),isNegative:v}}function Zn(s,u,g){var v=Dt(s,u);return(v.isNegative?"-":"")+v.value.map(function(T){return Sr(T,g)}).join("")}f.prototype.toArray=function(s){return Dt(this,s)},m.prototype.toArray=function(s){return Dt(this,s)},b.prototype.toArray=function(s){return Dt(this,s)},f.prototype.toString=function(s,u){if(s===n&&(s=10),s!==10)return Zn(this,s,u);for(var g=this.value,v=g.length,T=String(g[--v]),E="0000000",A;--v>=0;)A=String(g[v]),T+=E.slice(A.length)+A;var S=this.sign?"-":"";return S+T},m.prototype.toString=function(s,u){return s===n&&(s=10),s!=10?Zn(this,s,u):String(this.value)},b.prototype.toString=m.prototype.toString,b.prototype.toJSON=f.prototype.toJSON=m.prototype.toJSON=function(){return this.toString()},f.prototype.valueOf=function(){return parseInt(this.toString(),10)},f.prototype.toJSNumber=f.prototype.valueOf,m.prototype.valueOf=function(){return this.value},m.prototype.toJSNumber=m.prototype.valueOf,b.prototype.valueOf=b.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};function Vn(s){if(x(+s)){var u=+s;if(u===C(u))return h?new b(BigInt(u)):new m(u);throw new Error("Invalid integer: "+s)}var g=s[0]==="-";g&&(s=s.slice(1));var v=s.split(/e/i);if(v.length>2)throw new Error("Invalid integer: "+v.join("e"));if(v.length===2){var T=v[1];if(T[0]==="+"&&(T=T.slice(1)),T=+T,T!==C(T)||!x(T))throw new Error("Invalid integer: "+T+" is not a valid exponent.");var E=v[0],A=E.indexOf(".");if(A>=0&&(T-=E.length-A-1,E=E.slice(0,A)+E.slice(A+1)),T<0)throw new Error("Cannot include negative exponent part for integers");E+=new Array(T+1).join("0"),s=E}var S=/^([0-9][0-9]*)$/.test(s);if(!S)throw new Error("Invalid integer: "+s);if(h)return new b(BigInt(g?"-"+s:s));for(var I=[],j=s.length,Q=i,F=j-Q;j>0;)I.push(+s.slice(F,j)),F-=Q,F<0&&(F=0),j-=Q;return R(I),new f(I,g)}function Ir(s){if(h)return new b(BigInt(s));if(x(s)){if(s!==C(s))throw new Error(s+" is not an integer.");return new m(s)}return Vn(s.toString())}function q(s){return typeof s=="number"?Ir(s):typeof s=="string"?Vn(s):typeof s=="bigint"?new b(s):s}for(var ot=0;ot<1e3;ot++)p[ot]=q(ot),ot>0&&(p[-ot]=q(-ot));return p.one=p[1],p.zero=p[0],p.minusOne=p[-1],p.max=an,p.min=Kt,p.gcd=Mn,p.lcm=kn,p.isInstance=function(s){return s instanceof f||s instanceof m||s instanceof b},p.randBetween=Un,p.fromArray=function(s,u,g){return Gn(s.map(q),q(u||10),g)},p}();e.hasOwnProperty("exports")&&(e.exports=t)})(zi);var Qo=zi.exports,Wi=Wr(Qo);const Ci=64,Fr=16,wt=Ci/Fr;function el(){try{return!0}catch{return!1}}function tl(e,t,n){let r=0;for(let i=0;i<n;i++){const a=e[t+i];if(a===void 0)break;r+=a*16**i}return r}function Ji(e){const t=[];for(let n=0;n<e.length;n++){let r=Number(e[n]);for(let i=0;r||i<t.length;i++)r+=(t[i]||0)*10,t[i]=r%16,r=(r-t[i])/16}return t}function nl(e){const t=Ji(e),n=Array(wt);for(let r=0;r<wt;r++)n[wt-1-r]=tl(t,r*wt,wt);return n}class Je{static fromString(t){return new Je(nl(t),t)}static fromBit(t){const n=Array(wt),r=Math.floor(t/Fr);for(let i=0;i<wt;i++)n[wt-1-i]=i===r?1<<t-r*Fr:0;return new Je(n)}constructor(t,n){this.parts=t,this.str=n}and({parts:t}){return new Je(this.parts.map((n,r)=>n&t[r]))}or({parts:t}){return new Je(this.parts.map((n,r)=>n|t[r]))}xor({parts:t}){return new Je(this.parts.map((n,r)=>n^t[r]))}not(){return new Je(this.parts.map(t=>~t))}equals({parts:t}){return this.parts.every((n,r)=>n===t[r])}toString(){if(this.str!=null)return this.str;const t=new Array(Ci/4);return this.parts.forEach((n,r)=>{const i=Ji(n.toString());for(let a=0;a<4;a++)t[a+r*4]=i[4-1-a]||0}),this.str=Wi.fromArray(t,16).toString()}toJSON(){return this.toString()}}const Ot=el();Ot&&BigInt.prototype.toJSON==null&&(BigInt.prototype.toJSON=function(){return this.toString()});const Jn={},Qi=Ot?function(t){return BigInt(t)}:function(t){return t instanceof Je?t:(typeof t=="number"&&(t=t.toString()),Jn[t]!=null||(Jn[t]=Je.fromString(t)),Jn[t])},be=Qi(0),mr=Ot?function(t=be,n=be){return t&n}:function(t=be,n=be){return t.and(n)},ea=Ot?function(t=be,n=be){return t|n}:function(t=be,n=be){return t.or(n)},rl=Ot?function(t=be,n=be){return t^n}:function(t=be,n=be){return t.xor(n)},il=Ot?function(t=be){return~t}:function(t=be){return t.not()},ei=Ot?function(t,n){return t===n}:function(t,n){return t==null||n==null?t==n:t.equals(n)};function al(...e){let t=e[0];for(let n=1;n<e.length;n++)t=ea(t,e[n]);return t}function sl(e,t){return ei(mr(e,t),t)}function ol(e,t){return!ei(mr(e,t),be)}function ll(e,t){return t===be?e:ea(e,t)}function ul(e,t){return t===be?e:rl(e,mr(e,t))}const cl=Ot?function(t){return BigInt(1)<<BigInt(t)}:function(t){return Je.fromBit(t)};var cr={combine:al,add:ll,remove:ul,filter:mr,invert:il,has:sl,hasAny:ol,equals:ei,deserialize:Qi,getFlag:cl},ki;(function(e){e[e.CLOSE_NORMAL=1e3]="CLOSE_NORMAL",e[e.CLOSE_UNSUPPORTED=1003]="CLOSE_UNSUPPORTED",e[e.CLOSE_ABNORMAL=1006]="CLOSE_ABNORMAL",e[e.INVALID_CLIENTID=4e3]="INVALID_CLIENTID",e[e.INVALID_ORIGIN=4001]="INVALID_ORIGIN",e[e.RATELIMITED=4002]="RATELIMITED",e[e.TOKEN_REVOKED=4003]="TOKEN_REVOKED",e[e.INVALID_VERSION=4004]="INVALID_VERSION",e[e.INVALID_ENCODING=4005]="INVALID_ENCODING"})(ki||(ki={}));var $r;(function(e){e[e.INVALID_PAYLOAD=4e3]="INVALID_PAYLOAD",e[e.INVALID_COMMAND=4002]="INVALID_COMMAND",e[e.INVALID_EVENT=4004]="INVALID_EVENT",e[e.INVALID_PERMISSIONS=4006]="INVALID_PERMISSIONS"})($r||($r={}));var Yr;(function(e){e.LANDSCAPE="landscape",e.PORTRAIT="portrait"})(Yr||(Yr={}));var ht;(function(e){e.MOBILE="mobile",e.DESKTOP="desktop"})(ht||(ht={}));const Uu=Object.freeze({CREATE_INSTANT_INVITE:cr.getFlag(0),ADMINISTRATOR:cr.getFlag(3)});function De(e){return Xi(t=>{var n;const[r]=(n=Object.entries(e).find(([,i])=>i===t))!==null&&n!==void 0?n:[];return t!=null&&r===void 0?e.UNHANDLED:t},y().or(G()))}function fl(e){const t=Cr().transform(n=>{const r=e.safeParse(n);return r.success?r.data:e._def.defaultValue()});return t.overlayType=e,t}const ta=k.object({image_url:k.string()}),pl=k.object({mediaUrl:k.string().max(1024)}),dl=k.object({access_token:k.union([k.string(),k.null()]).optional()}),ti=k.object({access_token:k.string(),user:k.object({username:k.string(),discriminator:k.string(),id:k.string(),avatar:k.union([k.string(),k.null()]).optional(),public_flags:k.number(),global_name:k.union([k.string(),k.null()]).optional()}),scopes:k.array(fl(k.enum(["identify","email","connections","guilds","guilds.join","guilds.members.read","gdm.join","rpc","rpc.notifications.read","rpc.voice.read","rpc.voice.write","rpc.video.read","rpc.video.write","rpc.screenshare.read","rpc.screenshare.write","rpc.activities.write","bot","webhook.incoming","messages.read","applications.builds.upload","applications.builds.read","applications.commands","applications.commands.update","applications.commands.permissions.update","applications.store.update","applications.entitlements","activities.read","activities.write","relationships.read","voice","dm_channels.read","role_connections.write"]).or(k.literal(-1)).default(-1))),expires:k.string(),application:k.object({description:k.string(),icon:k.union([k.string(),k.null()]).optional(),id:k.string(),rpc_origins:k.array(k.string()).optional(),name:k.string()})}),na=k.object({participants:k.array(k.object({id:k.string(),username:k.string(),global_name:k.union([k.string(),k.null()]).optional(),discriminator:k.string(),avatar:k.union([k.string(),k.null()]).optional(),flags:k.number(),bot:k.boolean(),avatar_decoration_data:k.union([k.object({asset:k.string(),skuId:k.string().optional()}),k.null()]).optional(),premium_type:k.union([k.number(),k.null()]).optional(),nickname:k.string().optional()}))});var Qe;(function(e){e.INITIATE_IMAGE_UPLOAD="INITIATE_IMAGE_UPLOAD",e.OPEN_SHARE_MOMENT_DIALOG="OPEN_SHARE_MOMENT_DIALOG",e.AUTHENTICATE="AUTHENTICATE",e.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS="GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS"})(Qe||(Qe={}));const hl=k.object({}).optional().nullable(),Ui=k.void(),ra={[Qe.INITIATE_IMAGE_UPLOAD]:{request:Ui,response:ta},[Qe.OPEN_SHARE_MOMENT_DIALOG]:{request:pl,response:hl},[Qe.AUTHENTICATE]:{request:dl,response:ti},[Qe.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS]:{request:Ui,response:na}},ia="DISPATCH";var Z;(function(e){e.AUTHORIZE="AUTHORIZE",e.AUTHENTICATE="AUTHENTICATE",e.GET_GUILDS="GET_GUILDS",e.GET_GUILD="GET_GUILD",e.GET_CHANNEL="GET_CHANNEL",e.GET_CHANNELS="GET_CHANNELS",e.SELECT_VOICE_CHANNEL="SELECT_VOICE_CHANNEL",e.SELECT_TEXT_CHANNEL="SELECT_TEXT_CHANNEL",e.SUBSCRIBE="SUBSCRIBE",e.UNSUBSCRIBE="UNSUBSCRIBE",e.CAPTURE_SHORTCUT="CAPTURE_SHORTCUT",e.SET_CERTIFIED_DEVICES="SET_CERTIFIED_DEVICES",e.SET_ACTIVITY="SET_ACTIVITY",e.GET_SKUS="GET_SKUS",e.GET_ENTITLEMENTS="GET_ENTITLEMENTS",e.GET_SKUS_EMBEDDED="GET_SKUS_EMBEDDED",e.GET_ENTITLEMENTS_EMBEDDED="GET_ENTITLEMENTS_EMBEDDED",e.START_PURCHASE="START_PURCHASE",e.SET_CONFIG="SET_CONFIG",e.SEND_ANALYTICS_EVENT="SEND_ANALYTICS_EVENT",e.USER_SETTINGS_GET_LOCALE="USER_SETTINGS_GET_LOCALE",e.OPEN_EXTERNAL_LINK="OPEN_EXTERNAL_LINK",e.ENCOURAGE_HW_ACCELERATION="ENCOURAGE_HW_ACCELERATION",e.CAPTURE_LOG="CAPTURE_LOG",e.SET_ORIENTATION_LOCK_STATE="SET_ORIENTATION_LOCK_STATE",e.OPEN_INVITE_DIALOG="OPEN_INVITE_DIALOG",e.GET_PLATFORM_BEHAVIORS="GET_PLATFORM_BEHAVIORS",e.GET_CHANNEL_PERMISSIONS="GET_CHANNEL_PERMISSIONS",e.OPEN_SHARE_MOMENT_DIALOG="OPEN_SHARE_MOMENT_DIALOG",e.INITIATE_IMAGE_UPLOAD="INITIATE_IMAGE_UPLOAD",e.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS="GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS"})(Z||(Z={}));const jt=D({cmd:y(),data:Sn(),evt:Jr(),nonce:y()}).passthrough(),aa=Object.assign(Object.assign({},ti.shape.scopes.element.overlayType._def.innerType.options[0].Values),{UNHANDLED:-1}),ml=De(aa),vt=D({id:y(),username:y(),discriminator:y(),global_name:y().optional().nullable(),avatar:y().optional().nullable(),avatar_decoration_data:D({asset:y(),sku_id:y().optional()}).nullable(),bot:$(),flags:G().optional().nullable(),premium_type:G().optional().nullable()}),gr=D({user:vt,nick:y().optional().nullable(),roles:ee(y()),joined_at:y(),deaf:$(),mute:$()}),_r=D({id:y(),name:y().optional().nullable(),roles:ee(y()).optional().nullable(),user:vt.optional().nullable(),require_colons:$().optional().nullable(),managed:$().optional().nullable(),animated:$().optional().nullable(),available:$().optional().nullable()}),ni=D({mute:$(),deaf:$(),self_mute:$(),self_deaf:$(),suppress:$()}),ri=D({mute:$(),nick:y(),user:vt,voice_state:ni,volume:G()}),sa={UNHANDLED:-1,IDLE:"idle",DND:"dnd",ONLINE:"online",OFFLINE:"offline"},cn=De(sa),zt=D({name:y(),type:G(),url:y().optional().nullable(),created_at:G().optional().nullable(),timestamps:D({start:G(),end:G()}).partial().optional().nullable(),application_id:y().optional().nullable(),details:y().optional().nullable(),state:y().optional().nullable(),emoji:_r.optional().nullable(),party:D({id:y().optional().nullable(),size:ee(G()).optional().nullable()}).optional().nullable(),assets:D({large_image:y().nullable(),large_text:y().nullable(),small_image:y().nullable(),small_text:y().nullable()}).partial().optional().nullable(),secrets:D({join:y(),match:y()}).partial().optional().nullable(),instance:$().optional().nullable(),flags:G().optional().nullable()}),oa={UNHANDLED:-1,ROLE:0,MEMBER:1},la=D({id:y(),type:De(oa),allow:y(),deny:y()}),vr={UNHANDLED:-1,DM:1,GROUP_DM:3,GUILD_TEXT:0,GUILD_VOICE:2,GUILD_CATEGORY:4,GUILD_ANNOUNCEMENT:5,GUILD_STORE:6,ANNOUNCEMENT_THREAD:10,PUBLIC_THREAD:11,PRIVATE_THREAD:12,GUILD_STAGE_VOICE:13,GUILD_DIRECTORY:14,GUILD_FORUM:15},ii=D({id:y(),type:De(vr),guild_id:y().optional().nullable(),position:G().optional().nullable(),permission_overwrites:ee(la).optional().nullable(),name:y().optional().nullable(),topic:y().optional().nullable(),nsfw:$().optional().nullable(),last_message_id:y().optional().nullable(),bitrate:G().optional().nullable(),user_limit:G().optional().nullable(),rate_limit_per_user:G().optional().nullable(),recipients:ee(vt).optional().nullable(),icon:y().optional().nullable(),owner_id:y().optional().nullable(),application_id:y().optional().nullable(),parent_id:y().optional().nullable(),last_pin_timestamp:y().optional().nullable()}),ua=D({user:vt,guild_id:y(),status:cn,activities:ee(zt),client_status:D({desktop:cn,mobile:cn,web:cn}).partial()}),ca=D({id:y(),name:y(),color:G(),hoist:$(),position:G(),permissions:y(),managed:$(),mentionable:$()}),gl=D({id:y(),name:y(),owner_id:y(),icon:y().nullable(),icon_hash:y().optional().nullable(),splash:y().nullable(),discovery_splash:y().nullable(),owner:$().optional().nullable(),permissions:y().optional().nullable(),region:y(),afk_channel_id:y().nullable(),afk_timeout:G(),widget_enabled:$().optional().nullable(),widget_channel_id:y().optional().nullable(),verification_level:G(),default_message_notifications:G(),explicit_content_filter:G(),roles:ee(ca),emojis:ee(_r),features:ee(y()),mfa_level:G(),application_id:y().nullable(),system_channel_id:y().nullable(),system_channel_flags:G(),rules_channel_id:y().nullable(),joined_at:y().optional().nullable(),large:$().optional().nullable(),unavailable:$().optional().nullable(),member_count:G().optional().nullable(),voice_states:ee(ni).optional().nullable(),members:ee(gr).optional().nullable(),channels:ee(ii).optional().nullable(),presences:ee(ua).optional().nullable(),max_presences:G().optional().nullable(),max_members:G().optional().nullable(),vanity_url_code:y().nullable(),description:y().nullable(),banner:y().nullable(),premium_tier:G(),premium_subscription_count:G().optional().nullable(),preferred_locale:y(),public_updates_channel_id:y().nullable(),max_video_channel_users:G().optional().nullable(),approximate_member_count:G().optional().nullable(),approximate_presence_count:G().optional().nullable()}),fa=D({id:y(),guild_id:y(),type:G(),name:y()}),pa=D({id:y(),filename:y(),size:G(),url:y(),proxy_url:y(),height:G().optional().nullable(),width:G().optional().nullable()}),da=D({text:y(),icon_url:y().optional().nullable(),proxy_icon_url:y().optional().nullable()}),fr=D({url:y().optional().nullable(),proxy_url:y().optional().nullable(),height:G().optional().nullable(),width:G().optional().nullable()}),ha=fr.omit({proxy_url:!0}),ma=D({name:y().optional().nullable(),url:y().optional().nullable()}),ga=D({name:y().optional().nullable(),url:y().optional().nullable(),icon_url:y().optional().nullable(),proxy_icon_url:y().optional().nullable()}),_a=D({name:y(),value:y(),inline:$()}),va=D({title:y().optional().nullable(),type:y().optional().nullable(),description:y().optional().nullable(),url:y().optional().nullable(),timestamp:y().optional().nullable(),color:G().optional().nullable(),footer:da.optional().nullable(),image:fr.optional().nullable(),thumbnail:fr.optional().nullable(),video:ha.optional().nullable(),provider:ma.optional().nullable(),author:ga.optional().nullable(),fields:ee(_a).optional().nullable()}),ya=D({count:G(),me:$(),emoji:_r}),Ea=D({type:G(),party_id:y().optional().nullable()}),Ta=D({id:y(),cover_image:y().optional().nullable(),description:y(),icon:y().optional().nullable(),name:y()}),ba=D({message_id:y().optional().nullable(),channel_id:y().optional().nullable(),guild_id:y().optional().nullable()}),wa=D({id:y(),channel_id:y(),guild_id:y().optional().nullable(),author:vt.optional().nullable(),member:gr.optional().nullable(),content:y(),timestamp:y(),edited_timestamp:y().optional().nullable(),tts:$(),mention_everyone:$(),mentions:ee(vt),mention_roles:ee(y()),mention_channels:ee(fa),attachments:ee(pa),embeds:ee(va),reactions:ee(ya).optional().nullable(),nonce:Qr([y(),G()]).optional().nullable(),pinned:$(),webhook_id:y().optional().nullable(),type:G(),activity:Ea.optional().nullable(),application:Ta.optional().nullable(),message_reference:ba.optional().nullable(),flags:G().optional().nullable(),stickers:ee(Sn()).optional().nullable(),referenced_message:Sn().optional().nullable()}),Aa=D({id:y(),name:y()}),Sa={UNHANDLED:-1,KEYBOARD_KEY:0,MOUSE_BUTTON:1,KEYBOARD_MODIFIER_KEY:2,GAMEPAD_BUTTON:3},ai=D({type:De(Sa),code:G(),name:y()}),Ia={UNHANDLED:-1,PUSH_TO_TALK:"PUSH_TO_TALK",VOICE_ACTIVITY:"VOICE_ACTIVITY"},Na=D({type:De(Ia),auto_threshold:$(),threshold:G(),shortcut:ee(ai),delay:G()}),Xr=D({device_id:y(),volume:G(),available_devices:ee(Aa)}),Oa={UNHANDLED:-1,AUDIO_INPUT:"AUDIO_INPUT",AUDIO_OUTPUT:"AUDIO_OUTPUT",VIDEO_INPUT:"VIDEO_INPUT"},_l=D({type:De(Oa),id:y(),vendor:D({name:y(),url:y()}),model:D({name:y(),url:y()}),related:ee(y()),echo_cancellation:$().optional().nullable(),noise_suppression:$().optional().nullable(),automatic_gain_control:$().optional().nullable(),hardware_mute:$().optional().nullable()}),Ra={UNHANDLED:-1,APPLICATION:1,DLC:2,CONSUMABLE:3,BUNDLE:4,SUBSCRIPTION:5},Da=D({id:y(),name:y(),type:De(Ra),price:D({amount:G(),currency:y()}),application_id:y(),flags:G(),release_date:y().nullable()}),xa={UNHANDLED:-1,PURCHASE:1,PREMIUM_SUBSCRIPTION:2,DEVELOPER_GIFT:3,TEST_MODE_PURCHASE:4,FREE_PURCHASE:5,USER_GIFT:6,PREMIUM_PURCHASE:7},yr=D({id:y(),sku_id:y(),application_id:y(),user_id:y(),gift_code_flags:G(),type:De(xa),gifter_user_id:y().optional().nullable(),branches:ee(y()).optional().nullable(),starts_at:y().optional().nullable(),ends_at:y().optional().nullable(),parent_id:y().optional().nullable(),consumed:$().optional().nullable(),deleted:$().optional().nullable(),gift_code_batch_id:y().optional().nullable()}),La={UNHANDLED:-1,UNLOCKED:1,PORTRAIT:2,LANDSCAPE:3},vl=De(La),Pa={UNHANDLED:-1,NOMINAL:0,FAIR:1,SERIOUS:2,CRITICAL:3},Ma=De(Pa),si={UNHANDLED:-1,PORTRAIT:0,LANDSCAPE:1},yl=De(si),oi={UNHANDLED:-1,FOCUSED:0,PIP:1,GRID:2},El=De(oi),Tl=Object.freeze(Object.defineProperty({__proto__:null,Activity:zt,Attachment:pa,CertifiedDevice:_l,CertifiedDeviceTypeObject:Oa,Channel:ii,ChannelMention:fa,ChannelTypesObject:vr,get Commands(){return Z},DISPATCH:ia,Embed:va,EmbedAuthor:ga,EmbedField:_a,EmbedFooter:da,EmbedProvider:ma,Emoji:_r,Entitlement:yr,EntitlementTypesObject:xa,Guild:gl,GuildMember:gr,Image:fr,KeyTypesObject:Sa,LayoutMode:El,LayoutModeTypeObject:oi,Message:wa,MessageActivity:Ea,MessageApplication:Ta,MessageReference:ba,Orientation:yl,OrientationLockState:vl,OrientationLockStateTypeObject:La,OrientationTypeObject:si,PermissionOverwrite:la,PermissionOverwriteTypeObject:oa,PresenceUpdate:ua,Reaction:ya,ReceiveFramePayload:jt,Role:ca,Scopes:ml,ScopesObject:aa,ShortcutKey:ai,Sku:Da,SkuTypeObject:Ra,Status:cn,StatusObject:sa,ThermalState:Ma,ThermalStateTypeObject:Pa,User:vt,UserVoiceState:ri,Video:ha,VoiceDevice:Aa,VoiceSettingModeTypeObject:Ia,VoiceSettingsIO:Xr,VoiceSettingsMode:Na,VoiceState:ni},Symbol.toStringTag,{value:"Module"})),li="ERROR";var ae;(function(e){e.READY="READY",e.VOICE_STATE_UPDATE="VOICE_STATE_UPDATE",e.SPEAKING_START="SPEAKING_START",e.SPEAKING_STOP="SPEAKING_STOP",e.ACTIVITY_LAYOUT_MODE_UPDATE="ACTIVITY_LAYOUT_MODE_UPDATE",e.ORIENTATION_UPDATE="ORIENTATION_UPDATE",e.CURRENT_USER_UPDATE="CURRENT_USER_UPDATE",e.ENTITLEMENT_CREATE="ENTITLEMENT_CREATE",e.THERMAL_STATE_UPDATE="THERMAL_STATE_UPDATE",e.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE="ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE"})(ae||(ae={}));const qe=jt.extend({evt:Jt(ae),nonce:y().nullable(),cmd:ye(ia),data:D({}).passthrough()}),ka=jt.extend({evt:ye(li),data:D({code:G(),message:y().optional()}).passthrough(),cmd:Jt(Z),nonce:y().nullable()}),bl=qe.extend({evt:y()}),wl=Qr([qe,bl,ka]);function Al(e){const t=e.evt;if(!(t in ae))throw new Error(`Unrecognized event type ${e.evt}`);return Sl[t].payload.parse(e)}const Sl={[ae.READY]:{payload:qe.extend({evt:ye(ae.READY),data:D({v:G(),config:D({cdn_host:y().optional(),api_endpoint:y(),environment:y()}),user:D({id:y(),username:y(),discriminator:y(),avatar:y().optional()}).optional()})})},[ae.VOICE_STATE_UPDATE]:{payload:qe.extend({evt:ye(ae.VOICE_STATE_UPDATE),data:ri}),subscribeArgs:D({channel_id:y()})},[ae.SPEAKING_START]:{payload:qe.extend({evt:ye(ae.SPEAKING_START),data:D({lobby_id:y().optional(),channel_id:y().optional(),user_id:y()})}),subscribeArgs:D({lobby_id:y().nullable().optional(),channel_id:y().nullable().optional()})},[ae.SPEAKING_STOP]:{payload:qe.extend({evt:ye(ae.SPEAKING_STOP),data:D({lobby_id:y().optional(),channel_id:y().optional(),user_id:y()})}),subscribeArgs:D({lobby_id:y().nullable().optional(),channel_id:y().nullable().optional()})},[ae.ACTIVITY_LAYOUT_MODE_UPDATE]:{payload:qe.extend({evt:ye(ae.ACTIVITY_LAYOUT_MODE_UPDATE),data:D({layout_mode:De(oi)})})},[ae.ORIENTATION_UPDATE]:{payload:qe.extend({evt:ye(ae.ORIENTATION_UPDATE),data:D({screen_orientation:De(si),orientation:Jt(Yr)})})},[ae.CURRENT_USER_UPDATE]:{payload:qe.extend({evt:ye(ae.CURRENT_USER_UPDATE),data:vt})},[ae.ENTITLEMENT_CREATE]:{payload:qe.extend({evt:ye(ae.ENTITLEMENT_CREATE),data:D({entitlement:yr})})},[ae.THERMAL_STATE_UPDATE]:{payload:qe.extend({evt:ye(ae.THERMAL_STATE_UPDATE),data:D({thermal_state:Ma})})},[ae.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE]:{payload:qe.extend({evt:ye(ae.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE),data:D({participants:na.shape.participants})})}};function Il(e,t){throw t}const Qt=D({}).nullable(),ui=D({code:y()}),Ua=D({guilds:ee(D({id:y(),name:y()}))}),Ba=D({id:y(),name:y(),icon_url:y().optional(),members:ee(gr)}),Vt=D({id:y(),type:De(vr),guild_id:y().optional().nullable(),name:y().optional().nullable(),topic:y().optional().nullable(),bitrate:G().optional().nullable(),user_limit:G().optional().nullable(),position:G().optional().nullable(),voice_states:ee(ri),messages:ee(wa)}),Ga=D({channels:ee(ii)}),Nl=Vt.nullable(),Za=Vt.nullable(),Va=Vt.nullable(),Ol=D({input:Xr,output:Xr,mode:Na,automatic_gain_control:$(),echo_cancellation:$(),noise_suppression:$(),qos:$(),silence_warning:$(),deaf:$(),mute:$()}),Ha=D({evt:y()}),ja=D({shortcut:ai}),ci=zt,fi=D({skus:ee(Da)}),pi=D({entitlements:ee(yr)}),di=ee(yr).nullable(),hi=D({use_interactive_pip:$()}),mi=D({locale:y()}),gi=D({enabled:$()}),_i=D({permissions:$i().or(y())}),vi=D({iosKeyboardResizesView:Yi($())}),qa=jt.extend({cmd:Jt(Z),evt:Jr()});function Rl({cmd:e,data:t}){switch(e){case Z.AUTHORIZE:return ui.parse(t);case Z.CAPTURE_SHORTCUT:return ja.parse(t);case Z.ENCOURAGE_HW_ACCELERATION:return gi.parse(t);case Z.GET_CHANNEL:return Vt.parse(t);case Z.GET_CHANNELS:return Ga.parse(t);case Z.GET_CHANNEL_PERMISSIONS:return _i.parse(t);case Z.GET_GUILD:return Ba.parse(t);case Z.GET_GUILDS:return Ua.parse(t);case Z.GET_PLATFORM_BEHAVIORS:return vi.parse(t);case Z.GET_CHANNEL:return Vt.parse(t);case Z.SELECT_TEXT_CHANNEL:return Va.parse(t);case Z.SELECT_VOICE_CHANNEL:return Za.parse(t);case Z.SET_ACTIVITY:return ci.parse(t);case Z.GET_SKUS_EMBEDDED:return fi.parse(t);case Z.GET_ENTITLEMENTS_EMBEDDED:return pi.parse(t);case Z.SET_CONFIG:return hi.parse(t);case Z.START_PURCHASE:return di.parse(t);case Z.SUBSCRIBE:case Z.UNSUBSCRIBE:return Ha.parse(t);case Z.USER_SETTINGS_GET_LOCALE:return mi.parse(t);case Z.OPEN_EXTERNAL_LINK:case Z.SET_ORIENTATION_LOCK_STATE:case Z.SET_CERTIFIED_DEVICES:case Z.SEND_ANALYTICS_EVENT:case Z.OPEN_INVITE_DIALOG:case Z.CAPTURE_LOG:case Z.GET_SKUS:case Z.GET_ENTITLEMENTS:return Qt.parse(t);case Z.AUTHENTICATE:case Z.INITIATE_IMAGE_UPLOAD:case Z.OPEN_SHARE_MOMENT_DIALOG:case Z.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS:const{response:n}=ra[e];return n.parse(t);default:Il(e,new Error(`Unrecognized command ${e}`))}}function Ka(e){return Object.assign(Object.assign({},e),{data:Rl(e)})}const Bu=Object.freeze(Object.defineProperty({__proto__:null,AuthenticateResponse:ti,AuthorizeResponse:ui,CaptureShortcutResponse:ja,EmptyResponse:Qt,EncourageHardwareAccelerationResponse:gi,GetChannelPermissionsResponse:_i,GetChannelResponse:Vt,GetChannelsResponse:Ga,GetEntitlementsResponse:pi,GetGuildResponse:Ba,GetGuildsResponse:Ua,GetPlatformBehaviorsResponse:vi,GetSkusResponse:fi,InitiateImageUploadResponse:ta,NullableChannelResponse:Nl,ResponseFrame:qa,SelectTextChannelResponse:Va,SelectVoiceChannelResponse:Za,SetActivityResponse:ci,SetConfigResponse:hi,StartPurchaseResponse:di,SubscribeResponse:Ha,UserSettingsGetLocaleResponse:mi,VoiceSettingsResponse:Ol,parseResponsePayload:Ka},Symbol.toStringTag,{value:"Module"}));D({frame_id:y(),platform:Jt(ht).optional().nullable()});D({v:ye(1),encoding:ye("json").optional(),client_id:y(),frame_id:y()});const Dl=D({code:G(),message:y().optional()}),xl=D({evt:y().nullable(),nonce:y().nullable(),data:Sn().nullable(),cmd:y()}).passthrough();function Ll(e){const t=xl.parse(e);return t.evt!=null?t.evt===li?ka.parse(t):Al(wl.parse(t)):Ka(qa.passthrough().parse(t))}function Be(e,t,n,r=()=>{}){const i=jt.extend({cmd:ye(t),data:n});return async a=>{const o=await e({cmd:t,args:a,transfer:r(a)});return i.parse(o).data}}function Er(e,t=()=>{}){const n=ra[e].response,r=jt.extend({cmd:ye(e),data:n});return i=>async a=>{const o=await i({cmd:e,args:a,transfer:t(a)});return r.parse(o).data}}const Pl=Er(Qe.AUTHENTICATE),Ml=e=>Be(e,Z.AUTHORIZE,ui),kl=e=>Be(e,Z.CAPTURE_LOG,Qt),Ul=e=>Be(e,Z.ENCOURAGE_HW_ACCELERATION,gi),Bl=e=>Be(e,Z.GET_ENTITLEMENTS_EMBEDDED,pi),Gl=e=>Be(e,Z.GET_SKUS_EMBEDDED,fi),Zl=e=>Be(e,Z.GET_CHANNEL_PERMISSIONS,_i),Vl=e=>Be(e,Z.GET_PLATFORM_BEHAVIORS,vi),Hl=e=>Be(e,Z.OPEN_EXTERNAL_LINK,Qt),jl=e=>Be(e,Z.OPEN_INVITE_DIALOG,Qt),ql=Er(Qe.OPEN_SHARE_MOMENT_DIALOG);zt.pick({state:!0,details:!0,timestamps:!0,assets:!0,party:!0,secrets:!0,buttons:!0,instance:!0,supported_platforms:!0,type:!0}).extend({type:zt.shape.type.optional(),instance:zt.shape.instance.optional()}).nullable();const Kl=e=>Be(e,Z.SET_ACTIVITY,ci),Fl=e=>Be(e,Z.SET_CONFIG,hi);function $l({sendCommand:e,cmd:t,response:n,fallbackTransform:r,transferTransform:i=()=>{}}){const a=jt.extend({cmd:ye(t),data:n});return async o=>{try{const c=await e({cmd:t,args:o,transfer:i(o)});return a.parse(c).data}catch(c){if(c.code===$r.INVALID_PAYLOAD){const h=r(o),p=await e({cmd:t,args:h,transfer:i(h)});return a.parse(p).data}else throw c}}}const Yl=e=>({lock_state:e.lock_state,picture_in_picture_lock_state:e.picture_in_picture_lock_state}),Xl=e=>$l({sendCommand:e,cmd:Z.SET_ORIENTATION_LOCK_STATE,response:Qt,fallbackTransform:Yl}),zl=e=>Be(e,Z.START_PURCHASE,di),Wl=e=>Be(e,Z.USER_SETTINGS_GET_LOCALE,mi),Cl=Er(Qe.INITIATE_IMAGE_UPLOAD),Jl=e=>Be(e,Z.GET_CHANNEL,Vt),Ql=Er(Qe.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS);function eu(e){return{authenticate:Pl(e),authorize:Ml(e),captureLog:kl(e),encourageHardwareAcceleration:Ul(e),getChannel:Jl(e),getChannelPermissions:Zl(e),getEntitlements:Bl(e),getPlatformBehaviors:Vl(e),getSkus:Gl(e),openExternalLink:Hl(e),openInviteDialog:jl(e),openShareMomentDialog:ql(e),setActivity:Kl(e),setConfig:Fl(e),setOrientationLockState:Xl(e),startPurchase:zl(e),userSettingsGetLocale:Wl(e),initiateImageUpload:Cl(e),getInstanceConnectedParticipants:Ql(e)}}var tu=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Fa(e){return typeof e=="string"&&tu.test(e)}var Te=[];for(var Gr=0;Gr<256;++Gr)Te.push((Gr+256).toString(16).substr(1));function $a(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Te[e[t+0]]+Te[e[t+1]]+Te[e[t+2]]+Te[e[t+3]]+"-"+Te[e[t+4]]+Te[e[t+5]]+"-"+Te[e[t+6]]+Te[e[t+7]]+"-"+Te[e[t+8]]+Te[e[t+9]]+"-"+Te[e[t+10]]+Te[e[t+11]]+Te[e[t+12]]+Te[e[t+13]]+Te[e[t+14]]+Te[e[t+15]]).toLowerCase();if(!Fa(n))throw TypeError("Stringified UUID is invalid");return n}function nu(e){if(!Fa(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=t&255,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=t&255,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=t&255,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=t&255,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=t&255,n}function ru(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}var iu="6ba7b810-9dad-11d1-80b4-00c04fd430c8",au="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Ya(e,t,n){function r(i,a,o,c){if(typeof i=="string"&&(i=ru(i)),typeof a=="string"&&(a=nu(a)),a.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var h=new Uint8Array(16+i.length);if(h.set(a),h.set(i,a.length),h=n(h),h[6]=h[6]&15|t,h[8]=h[8]&63|128,o){c=c||0;for(var p=0;p<16;++p)o[c+p]=h[p];return o}return $a(h)}try{r.name=e}catch{}return r.DNS=iu,r.URL=au,r}function su(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return ou(lu(uu(e),e.length*8))}function ou(e){for(var t=[],n=e.length*32,r="0123456789abcdef",i=0;i<n;i+=8){var a=e[i>>5]>>>i%32&255,o=parseInt(r.charAt(a>>>4&15)+r.charAt(a&15),16);t.push(o)}return t}function Xa(e){return(e+64>>>9<<4)+14+1}function lu(e,t){e[t>>5]|=128<<t%32,e[Xa(t)-1]=t;for(var n=1732584193,r=-271733879,i=-1732584194,a=271733878,o=0;o<e.length;o+=16){var c=n,h=r,p=i,f=a;n=Se(n,r,i,a,e[o],7,-680876936),a=Se(a,n,r,i,e[o+1],12,-389564586),i=Se(i,a,n,r,e[o+2],17,606105819),r=Se(r,i,a,n,e[o+3],22,-1044525330),n=Se(n,r,i,a,e[o+4],7,-176418897),a=Se(a,n,r,i,e[o+5],12,1200080426),i=Se(i,a,n,r,e[o+6],17,-1473231341),r=Se(r,i,a,n,e[o+7],22,-45705983),n=Se(n,r,i,a,e[o+8],7,1770035416),a=Se(a,n,r,i,e[o+9],12,-1958414417),i=Se(i,a,n,r,e[o+10],17,-42063),r=Se(r,i,a,n,e[o+11],22,-1990404162),n=Se(n,r,i,a,e[o+12],7,1804603682),a=Se(a,n,r,i,e[o+13],12,-40341101),i=Se(i,a,n,r,e[o+14],17,-1502002290),r=Se(r,i,a,n,e[o+15],22,1236535329),n=Ie(n,r,i,a,e[o+1],5,-165796510),a=Ie(a,n,r,i,e[o+6],9,-1069501632),i=Ie(i,a,n,r,e[o+11],14,643717713),r=Ie(r,i,a,n,e[o],20,-373897302),n=Ie(n,r,i,a,e[o+5],5,-701558691),a=Ie(a,n,r,i,e[o+10],9,38016083),i=Ie(i,a,n,r,e[o+15],14,-660478335),r=Ie(r,i,a,n,e[o+4],20,-405537848),n=Ie(n,r,i,a,e[o+9],5,568446438),a=Ie(a,n,r,i,e[o+14],9,-1019803690),i=Ie(i,a,n,r,e[o+3],14,-187363961),r=Ie(r,i,a,n,e[o+8],20,1163531501),n=Ie(n,r,i,a,e[o+13],5,-1444681467),a=Ie(a,n,r,i,e[o+2],9,-51403784),i=Ie(i,a,n,r,e[o+7],14,1735328473),r=Ie(r,i,a,n,e[o+12],20,-1926607734),n=Ne(n,r,i,a,e[o+5],4,-378558),a=Ne(a,n,r,i,e[o+8],11,-2022574463),i=Ne(i,a,n,r,e[o+11],16,1839030562),r=Ne(r,i,a,n,e[o+14],23,-35309556),n=Ne(n,r,i,a,e[o+1],4,-1530992060),a=Ne(a,n,r,i,e[o+4],11,1272893353),i=Ne(i,a,n,r,e[o+7],16,-155497632),r=Ne(r,i,a,n,e[o+10],23,-1094730640),n=Ne(n,r,i,a,e[o+13],4,681279174),a=Ne(a,n,r,i,e[o],11,-358537222),i=Ne(i,a,n,r,e[o+3],16,-722521979),r=Ne(r,i,a,n,e[o+6],23,76029189),n=Ne(n,r,i,a,e[o+9],4,-640364487),a=Ne(a,n,r,i,e[o+12],11,-421815835),i=Ne(i,a,n,r,e[o+15],16,530742520),r=Ne(r,i,a,n,e[o+2],23,-995338651),n=Oe(n,r,i,a,e[o],6,-198630844),a=Oe(a,n,r,i,e[o+7],10,1126891415),i=Oe(i,a,n,r,e[o+14],15,-1416354905),r=Oe(r,i,a,n,e[o+5],21,-57434055),n=Oe(n,r,i,a,e[o+12],6,1700485571),a=Oe(a,n,r,i,e[o+3],10,-1894986606),i=Oe(i,a,n,r,e[o+10],15,-1051523),r=Oe(r,i,a,n,e[o+1],21,-2054922799),n=Oe(n,r,i,a,e[o+8],6,1873313359),a=Oe(a,n,r,i,e[o+15],10,-30611744),i=Oe(i,a,n,r,e[o+6],15,-1560198380),r=Oe(r,i,a,n,e[o+13],21,1309151649),n=Oe(n,r,i,a,e[o+4],6,-145523070),a=Oe(a,n,r,i,e[o+11],10,-1120210379),i=Oe(i,a,n,r,e[o+2],15,718787259),r=Oe(r,i,a,n,e[o+9],21,-343485551),n=At(n,c),r=At(r,h),i=At(i,p),a=At(a,f)}return[n,r,i,a]}function uu(e){if(e.length===0)return[];for(var t=e.length*8,n=new Uint32Array(Xa(t)),r=0;r<t;r+=8)n[r>>5]|=(e[r/8]&255)<<r%32;return n}function At(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function cu(e,t){return e<<t|e>>>32-t}function Tr(e,t,n,r,i,a){return At(cu(At(At(t,e),At(r,a)),i),n)}function Se(e,t,n,r,i,a,o){return Tr(t&n|~t&r,e,t,i,a,o)}function Ie(e,t,n,r,i,a,o){return Tr(t&r|n&~r,e,t,i,a,o)}function Ne(e,t,n,r,i,a,o){return Tr(t^n^r,e,t,i,a,o)}function Oe(e,t,n,r,i,a,o){return Tr(n^(t|~r),e,t,i,a,o)}Ya("v3",48,su);var Qn,fu=new Uint8Array(16);function pu(){if(!Qn&&(Qn=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Qn))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Qn(fu)}function Bi(e,t,n){e=e||{};var r=e.random||(e.rng||pu)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return $a(r)}function du(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function Zr(e,t){return e<<t|e>>>32-t}function hu(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var r=unescape(encodeURIComponent(e));e=[];for(var i=0;i<r.length;++i)e.push(r.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var a=e.length/4+2,o=Math.ceil(a/16),c=new Array(o),h=0;h<o;++h){for(var p=new Uint32Array(16),f=0;f<16;++f)p[f]=e[h*64+f*4]<<24|e[h*64+f*4+1]<<16|e[h*64+f*4+2]<<8|e[h*64+f*4+3];c[h]=p}c[o-1][14]=(e.length-1)*8/Math.pow(2,32),c[o-1][14]=Math.floor(c[o-1][14]),c[o-1][15]=(e.length-1)*8&4294967295;for(var m=0;m<o;++m){for(var b=new Uint32Array(80),x=0;x<16;++x)b[x]=c[m][x];for(var V=16;V<80;++V)b[V]=Zr(b[V-3]^b[V-8]^b[V-14]^b[V-16],1);for(var B=n[0],R=n[1],ue=n[2],C=n[3],J=n[4],me=0;me<80;++me){var pe=Math.floor(me/20),ke=Zr(B,5)+du(pe,R,ue,C)+J+t[pe]+b[me]>>>0;J=C,C=ue,ue=Zr(R,30)>>>0,R=B,B=ke}n[0]=n[0]+B>>>0,n[1]=n[1]+R>>>0,n[2]=n[2]+ue>>>0,n[3]=n[3]+C>>>0,n[4]=n[4]+J>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}Ya("v5",80,hu);class mu extends Error{constructor(t,n=""){super(n),this.code=t,this.message=n,this.name="Discord SDK Error"}}function za(){return{disableConsoleLogOverride:!1}}const gu=["log","warn","debug","info","error"];function _u(e,t,n){const r=e[t],i=e;r&&(e[t]=function(){const a=[].slice.call(arguments),o=""+a.join(" ");n(t,o),r.apply(i,a)})}var dt;(function(e){e[e.HANDSHAKE=0]="HANDSHAKE",e[e.FRAME=1]="FRAME",e[e.CLOSE=2]="CLOSE",e[e.HELLO=3]="HELLO"})(dt||(dt={}));const vu=new Set(yu());function yu(){return typeof window>"u"?[]:[window.location.origin,"https://discord.com","https://discordapp.com","https://ptb.discord.com","https://ptb.discordapp.com","https://canary.discord.com","https://canary.discordapp.com","https://staging.discord.co","http://localhost:3333","https://pax.discord.com","null"]}function Eu(){var e;return[(e=window.parent.opener)!==null&&e!==void 0?e:window.parent,document.referrer?document.referrer:"*"]}class Gu{getTransfer(t){var n;switch(t.cmd){case Z.SUBSCRIBE:case Z.UNSUBSCRIBE:return;default:return(n=t.transfer)!==null&&n!==void 0?n:void 0}}constructor(t,n){if(this.eventBus=new Hi,this.source=null,this.sourceOrigin="",this.pendingCommands=new Map,this.sendCommand=c=>{var h;if(this.source==null)throw new Error("Attempting to send message before initialization");const p=Bi();return(h=this.source)===null||h===void 0||h.postMessage([dt.FRAME,Object.assign(Object.assign({},c),{nonce:p})],this.sourceOrigin,this.getTransfer(c)),new Promise((m,b)=>{this.pendingCommands.set(p,{resolve:m,reject:b})})},this.commands=eu(this.sendCommand),this.handleMessage=c=>{if(!vu.has(c.origin))return;const h=c.data;if(!Array.isArray(h))return;const[p,f]=h;switch(p){case dt.HELLO:return;case dt.CLOSE:return this.handleClose(f);case dt.HANDSHAKE:return this.handleHandshake();case dt.FRAME:return this.handleFrame(f);default:throw new Error("Invalid message format")}},this.isReady=!1,this.clientId=t,this.configuration=n??za(),typeof window<"u"&&window.addEventListener("message",this.handleMessage),typeof window>"u"){this.frameId="",this.instanceId="",this.platform=ht.DESKTOP,this.guildId=null,this.channelId=null;return}const r=new URLSearchParams(this._getSearch()),i=r.get("frame_id");if(!i)throw new Error("frame_id query param is not defined");this.frameId=i;const a=r.get("instance_id");if(!a)throw new Error("instance_id query param is not defined");this.instanceId=a;const o=r.get("platform");if(o){if(o!==ht.DESKTOP&&o!==ht.MOBILE)throw new Error(`Invalid query param "platform" of "${o}". Valid values are "${ht.DESKTOP}" or "${ht.MOBILE}"`)}else throw new Error("platform query param is not defined");this.platform=o,this.guildId=r.get("guild_id"),this.channelId=r.get("channel_id"),[this.source,this.sourceOrigin]=Eu(),this.addOnReadyListener(),this.handshake()}close(t,n){var r;window.removeEventListener("message",this.handleMessage);const i=Bi();(r=this.source)===null||r===void 0||r.postMessage([dt.CLOSE,{code:t,message:n,nonce:i}],this.sourceOrigin)}async subscribe(t,n,...r){const[i]=r,a=this.eventBus.listenerCount(t),o=this.eventBus.on(t,n);return Object.values(ae).includes(t)&&t!==ae.READY&&a===0&&await this.sendCommand({cmd:Z.SUBSCRIBE,args:i,evt:t}),o}async unsubscribe(t,n,...r){const[i]=r;return t!==ae.READY&&this.eventBus.listenerCount(t)===1&&await this.sendCommand({cmd:Z.UNSUBSCRIBE,evt:t,args:i}),this.eventBus.off(t,n)}async ready(){this.isReady||await new Promise(t=>{this.eventBus.once(ae.READY,t)})}handshake(){var t;(t=this.source)===null||t===void 0||t.postMessage([dt.HANDSHAKE,{v:1,encoding:"json",client_id:this.clientId,frame_id:this.frameId}],this.sourceOrigin)}addOnReadyListener(){this.eventBus.once(ae.READY,()=>{this.overrideConsoleLogging(),this.isReady=!0})}overrideConsoleLogging(){if(this.configuration.disableConsoleLogOverride)return;const t=(n,r)=>{this.commands.captureLog({level:n,message:r})};gu.forEach(n=>{_u(console,n,t)})}handleClose(t){Dl.parse(t)}handleHandshake(){}handleFrame(t){var n,r;let i;try{i=Ll(t)}catch(a){console.error("Failed to parse",t),console.error(a);return}if(i.cmd==="DISPATCH")this.eventBus.emit(i.evt,i.data);else{if(i.evt===li){if(i.nonce!=null){(n=this.pendingCommands.get(i.nonce))===null||n===void 0||n.reject(i.data),this.pendingCommands.delete(i.nonce);return}this.eventBus.emit("error",new mu(i.data.code,i.data.message))}if(i.nonce==null){console.error("Missing nonce",t);return}(r=this.pendingCommands.get(i.nonce))===null||r===void 0||r.resolve(i),this.pendingCommands.delete(i.nonce)}}_getSearch(){return typeof window>"u"?"":window.location.search}}function Tu(e,t){return cr.has(cr.deserialize(t),e)}var Zu={can:Tu},en=1e9,bu={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ei,fe=!0,Ke="[DecimalError] ",Ut=Ke+"Invalid argument: ",yi=Ke+"Exponent out of range: ",tn=Math.floor,Mt=Math.pow,wu=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ze,Ee=1e7,ce=7,Wa=9007199254740991,pr=tn(Wa/ce),M={};M.absoluteValue=M.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};M.comparedTo=M.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};M.decimalPlaces=M.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*ce;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};M.dividedBy=M.div=function(e){return gt(this,new this.constructor(e))};M.dividedToIntegerBy=M.idiv=function(e){var t=this,n=t.constructor;return le(gt(t,new n(e),0,1),n.precision)};M.equals=M.eq=function(e){return!this.cmp(e)};M.exponent=function(){return ge(this)};M.greaterThan=M.gt=function(e){return this.cmp(e)>0};M.greaterThanOrEqualTo=M.gte=function(e){return this.cmp(e)>=0};M.isInteger=M.isint=function(){return this.e>this.d.length-2};M.isNegative=M.isneg=function(){return this.s<0};M.isPositive=M.ispos=function(){return this.s>0};M.isZero=function(){return this.s===0};M.lessThan=M.lt=function(e){return this.cmp(e)<0};M.lessThanOrEqualTo=M.lte=function(e){return this.cmp(e)<1};M.logarithm=M.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Ze))throw Error(Ke+"NaN");if(n.s<1)throw Error(Ke+(n.s?"NaN":"-Infinity"));return n.eq(Ze)?new r(0):(fe=!1,t=gt(In(n,a),In(e,a),a),fe=!0,le(t,i))};M.minus=M.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Qa(t,e):Ca(t,(e.s=-e.s,e))};M.modulo=M.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Ke+"NaN");return n.s?(fe=!1,t=gt(n,e,0,1).times(e),fe=!0,n.minus(t)):le(new r(n),i)};M.naturalExponential=M.exp=function(){return Ja(this)};M.naturalLogarithm=M.ln=function(){return In(this)};M.negated=M.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};M.plus=M.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Ca(t,e):Qa(t,(e.s=-e.s,e))};M.precision=M.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ut+e);if(t=ge(i)+1,r=i.d.length-1,n=r*ce+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};M.squareRoot=M.sqrt=function(){var e,t,n,r,i,a,o,c=this,h=c.constructor;if(c.s<1){if(!c.s)return new h(0);throw Error(Ke+"NaN")}for(e=ge(c),fe=!1,i=Math.sqrt(+c),i==0||i==1/0?(t=et(c.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=tn((e+1)/2)-(e<0||e%2),i==1/0?t="1e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new h(t)):r=new h(i.toString()),n=h.precision,i=o=n+3;;)if(a=r,r=a.plus(gt(c,a,o+2)).times(.5),et(a.d).slice(0,o)===(t=et(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(le(a,n+1,0),a.times(a).eq(c)){r=a;break}}else if(t!="9999")break;o+=4}return fe=!0,le(r,n)};M.times=M.mul=function(e){var t,n,r,i,a,o,c,h,p,f=this,m=f.constructor,b=f.d,x=(e=new m(e)).d;if(!f.s||!e.s)return new m(0);for(e.s*=f.s,n=f.e+e.e,h=b.length,p=x.length,h<p&&(a=b,b=x,x=a,o=h,h=p,p=o),a=[],o=h+p,r=o;r--;)a.push(0);for(r=p;--r>=0;){for(t=0,i=h+r;i>r;)c=a[i]+x[r]*b[i-r-1]+t,a[i--]=c%Ee|0,t=c/Ee|0;a[i]=(a[i]+t)%Ee|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,fe?le(e,m.precision):e};M.toDecimalPlaces=M.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(rt(e,0,en),t===void 0?t=r.rounding:rt(t,0,8),le(n,e+ge(n)+1,t))};M.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Ht(r,!0):(rt(e,0,en),t===void 0?t=i.rounding:rt(t,0,8),r=le(new i(r),e+1,t),n=Ht(r,!0,e+1)),n};M.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?Ht(i):(rt(e,0,en),t===void 0?t=a.rounding:rt(t,0,8),r=le(new a(i),e+ge(i)+1,t),n=Ht(r.abs(),!1,e+ge(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};M.toInteger=M.toint=function(){var e=this,t=e.constructor;return le(new t(e),ge(e)+1,t.rounding)};M.toNumber=function(){return+this};M.toPower=M.pow=function(e){var t,n,r,i,a,o,c=this,h=c.constructor,p=12,f=+(e=new h(e));if(!e.s)return new h(Ze);if(c=new h(c),!c.s){if(e.s<1)throw Error(Ke+"Infinity");return c}if(c.eq(Ze))return c;if(r=h.precision,e.eq(Ze))return le(c,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=c.s,o){if((n=f<0?-f:f)<=Wa){for(i=new h(Ze),t=Math.ceil(r/ce+4),fe=!1;n%2&&(i=i.times(c),Zi(i.d,t)),n=tn(n/2),n!==0;)c=c.times(c),Zi(c.d,t);return fe=!0,e.s<0?new h(Ze).div(i):le(i,r)}}else if(a<0)throw Error(Ke+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,c.s=1,fe=!1,i=e.times(In(c,r+p)),fe=!0,i=Ja(i),i.s=a,i};M.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=ge(i),r=Ht(i,n<=a.toExpNeg||n>=a.toExpPos)):(rt(e,1,en),t===void 0?t=a.rounding:rt(t,0,8),i=le(new a(i),e,t),n=ge(i),r=Ht(i,e<=n||n<=a.toExpNeg,e)),r};M.toSignificantDigits=M.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(rt(e,1,en),t===void 0?t=r.rounding:rt(t,0,8)),le(new r(n),e,t)};M.toString=M.valueOf=M.val=M.toJSON=M[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ge(e),n=e.constructor;return Ht(e,t<=n.toExpNeg||t>=n.toExpPos)};function Ca(e,t){var n,r,i,a,o,c,h,p,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),fe?le(t,m):t;if(h=e.d,p=t.d,o=e.e,i=t.e,h=h.slice(),a=o-i,a){for(a<0?(r=h,a=-a,c=p.length):(r=p,i=o,c=h.length),o=Math.ceil(m/ce),c=o>c?o+1:c+1,a>c&&(a=c,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(c=h.length,a=p.length,c-a<0&&(a=c,r=p,p=h,h=r),n=0;a;)n=(h[--a]=h[a]+p[a]+n)/Ee|0,h[a]%=Ee;for(n&&(h.unshift(n),++i),c=h.length;h[--c]==0;)h.pop();return t.d=h,t.e=i,fe?le(t,m):t}function rt(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Ut+e)}function et(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=ce-r.length,n&&(a+=Tt(n)),a+=r;o=e[t],r=o+"",n=ce-r.length,n&&(a+=Tt(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var gt=function(){function e(r,i){var a,o=0,c=r.length;for(r=r.slice();c--;)a=r[c]*i+o,r[c]=a%Ee|0,o=a/Ee|0;return o&&r.unshift(o),r}function t(r,i,a,o){var c,h;if(a!=o)h=a>o?1:-1;else for(c=h=0;c<a;c++)if(r[c]!=i[c]){h=r[c]>i[c]?1:-1;break}return h}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*Ee+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var c,h,p,f,m,b,x,V,B,R,ue,C,J,me,pe,ke,we,Ge,Fe=r.constructor,Ve=r.s==i.s?1:-1,xe=r.d,oe=i.d;if(!r.s)return new Fe(r);if(!i.s)throw Error(Ke+"Division by zero");for(h=r.e-i.e,we=oe.length,pe=xe.length,x=new Fe(Ve),V=x.d=[],p=0;oe[p]==(xe[p]||0);)++p;if(oe[p]>(xe[p]||0)&&--h,a==null?C=a=Fe.precision:o?C=a+(ge(r)-ge(i))+1:C=a,C<0)return new Fe(0);if(C=C/ce+2|0,p=0,we==1)for(f=0,oe=oe[0],C++;(p<pe||f)&&C--;p++)J=f*Ee+(xe[p]||0),V[p]=J/oe|0,f=J%oe|0;else{for(f=Ee/(oe[0]+1)|0,f>1&&(oe=e(oe,f),xe=e(xe,f),we=oe.length,pe=xe.length),me=we,B=xe.slice(0,we),R=B.length;R<we;)B[R++]=0;Ge=oe.slice(),Ge.unshift(0),ke=oe[0],oe[1]>=Ee/2&&++ke;do f=0,c=t(oe,B,we,R),c<0?(ue=B[0],we!=R&&(ue=ue*Ee+(B[1]||0)),f=ue/ke|0,f>1?(f>=Ee&&(f=Ee-1),m=e(oe,f),b=m.length,R=B.length,c=t(m,B,b,R),c==1&&(f--,n(m,we<b?Ge:oe,b))):(f==0&&(c=f=1),m=oe.slice()),b=m.length,b<R&&m.unshift(0),n(B,m,R),c==-1&&(R=B.length,c=t(oe,B,we,R),c<1&&(f++,n(B,we<R?Ge:oe,R))),R=B.length):c===0&&(f++,B=[0]),V[p++]=f,c&&B[0]?B[R++]=xe[me]||0:(B=[xe[me]],R=1);while((me++<pe||B[0]!==void 0)&&C--)}return V[0]||V.shift(),x.e=h,le(x,o?a+ge(x)+1:a)}}();function Ja(e,t){var n,r,i,a,o,c,h=0,p=0,f=e.constructor,m=f.precision;if(ge(e)>16)throw Error(yi+ge(e));if(!e.s)return new f(Ze);for(t==null?(fe=!1,c=m):c=t,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),p+=5;for(r=Math.log(Mt(2,p))/Math.LN10*2+5|0,c+=r,n=i=a=new f(Ze),f.precision=c;;){if(i=le(i.times(e),c),n=n.times(++h),o=a.plus(gt(i,n,c)),et(o.d).slice(0,c)===et(a.d).slice(0,c)){for(;p--;)a=le(a.times(a),c);return f.precision=m,t==null?(fe=!0,le(a,m)):a}a=o}}function ge(e){for(var t=e.e*ce,n=e.d[0];n>=10;n/=10)t++;return t}function Vr(e,t,n){if(t>e.LN10.sd())throw fe=!0,n&&(e.precision=n),Error(Ke+"LN10 precision limit exceeded");return le(new e(e.LN10),t)}function Tt(e){for(var t="";e--;)t+="0";return t}function In(e,t){var n,r,i,a,o,c,h,p,f,m=1,b=10,x=e,V=x.d,B=x.constructor,R=B.precision;if(x.s<1)throw Error(Ke+(x.s?"NaN":"-Infinity"));if(x.eq(Ze))return new B(0);if(t==null?(fe=!1,p=R):p=t,x.eq(10))return t==null&&(fe=!0),Vr(B,p);if(p+=b,B.precision=p,n=et(V),r=n.charAt(0),a=ge(x),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(e),n=et(x.d),r=n.charAt(0),m++;a=ge(x),r>1?(x=new B("0."+n),a++):x=new B(r+"."+n.slice(1))}else return h=Vr(B,p+2,R).times(a+""),x=In(new B(r+"."+n.slice(1)),p-b).plus(h),B.precision=R,t==null?(fe=!0,le(x,R)):x;for(c=o=x=gt(x.minus(Ze),x.plus(Ze),p),f=le(x.times(x),p),i=3;;){if(o=le(o.times(f),p),h=c.plus(gt(o,new B(i),p)),et(h.d).slice(0,p)===et(c.d).slice(0,p))return c=c.times(2),a!==0&&(c=c.plus(Vr(B,p+2,R).times(a+""))),c=gt(c,new B(m),p),B.precision=R,t==null?(fe=!0,le(c,R)):c;c=h,i+=2}}function Gi(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=tn(n/ce),e.d=[],r=(n+1)%ce,n<0&&(r+=ce),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=ce;r<i;)e.d.push(+t.slice(r,r+=ce));t=t.slice(r),r=ce-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),fe&&(e.e>pr||e.e<-pr))throw Error(yi+n)}else e.s=0,e.e=0,e.d=[0];return e}function le(e,t,n){var r,i,a,o,c,h,p,f,m=e.d;for(o=1,a=m[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=ce,i=t,p=m[f=0];else{if(f=Math.ceil((r+1)/ce),a=m.length,f>=a)return e;for(p=a=m[f],o=1;a>=10;a/=10)o++;r%=ce,i=r-ce+o}if(n!==void 0&&(a=Mt(10,o-i-1),c=p/a%10|0,h=t<0||m[f+1]!==void 0||p%a,h=n<4?(c||h)&&(n==0||n==(e.s<0?3:2)):c>5||c==5&&(n==4||h||n==6&&(r>0?i>0?p/Mt(10,o-i):0:m[f-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return h?(a=ge(e),m.length=1,t=t-a-1,m[0]=Mt(10,(ce-t%ce)%ce),e.e=tn(-t/ce)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(r==0?(m.length=f,a=1,f--):(m.length=f+1,a=Mt(10,ce-r),m[f]=i>0?(p/Mt(10,o-i)%Mt(10,i)|0)*a:0),h)for(;;)if(f==0){(m[0]+=a)==Ee&&(m[0]=1,++e.e);break}else{if(m[f]+=a,m[f]!=Ee)break;m[f--]=0,a=1}for(r=m.length;m[--r]===0;)m.pop();if(fe&&(e.e>pr||e.e<-pr))throw Error(yi+ge(e));return e}function Qa(e,t){var n,r,i,a,o,c,h,p,f,m,b=e.constructor,x=b.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new b(e),fe?le(t,x):t;if(h=e.d,m=t.d,r=t.e,p=e.e,h=h.slice(),o=p-r,o){for(f=o<0,f?(n=h,o=-o,c=m.length):(n=m,r=p,c=h.length),i=Math.max(Math.ceil(x/ce),c)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=h.length,c=m.length,f=i<c,f&&(c=i),i=0;i<c;i++)if(h[i]!=m[i]){f=h[i]<m[i];break}o=0}for(f&&(n=h,h=m,m=n,t.s=-t.s),c=h.length,i=m.length-c;i>0;--i)h[c++]=0;for(i=m.length;i>o;){if(h[--i]<m[i]){for(a=i;a&&h[--a]===0;)h[a]=Ee-1;--h[a],h[i]+=Ee}h[i]-=m[i]}for(;h[--c]===0;)h.pop();for(;h[0]===0;h.shift())--r;return h[0]?(t.d=h,t.e=r,fe?le(t,x):t):new b(0)}function Ht(e,t,n){var r,i=ge(e),a=et(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Tt(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Tt(-i-1)+a,n&&(r=n-o)>0&&(a+=Tt(r))):i>=o?(a+=Tt(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Tt(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Tt(r))),e.s<0?"-"+a:a}function Zi(e,t){if(e.length>t)return e.length=t,!0}function es(e){var t,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ut+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return Gi(o,a.toString())}else if(typeof a!="string")throw Error(Ut+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,wu.test(a))Gi(o,a);else throw Error(Ut+a)}if(i.prototype=M,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=es,i.config=i.set=Au,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Au(e){if(!e||typeof e!="object")throw Error(Ke+"Object expected");var t,n,r,i=["precision",1,en,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(tn(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Ut+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ut+n+": "+r);return this}var Ei=es(bu);Ze=new Ei(1);var Su=Ei,_;(function(e){e.AED="aed",e.AFN="afn",e.ALL="all",e.AMD="amd",e.ANG="ang",e.AOA="aoa",e.ARS="ars",e.AUD="aud",e.AWG="awg",e.AZN="azn",e.BAM="bam",e.BBD="bbd",e.BDT="bdt",e.BGN="bgn",e.BHD="bhd",e.BIF="bif",e.BMD="bmd",e.BND="bnd",e.BOB="bob",e.BOV="bov",e.BRL="brl",e.BSD="bsd",e.BTN="btn",e.BWP="bwp",e.BYN="byn",e.BYR="byr",e.BZD="bzd",e.CAD="cad",e.CDF="cdf",e.CHE="che",e.CHF="chf",e.CHW="chw",e.CLF="clf",e.CLP="clp",e.CNY="cny",e.COP="cop",e.COU="cou",e.CRC="crc",e.CUC="cuc",e.CUP="cup",e.CVE="cve",e.CZK="czk",e.DJF="djf",e.DKK="dkk",e.DOP="dop",e.DZD="dzd",e.EGP="egp",e.ERN="ern",e.ETB="etb",e.EUR="eur",e.FJD="fjd",e.FKP="fkp",e.GBP="gbp",e.GEL="gel",e.GHS="ghs",e.GIP="gip",e.GMD="gmd",e.GNF="gnf",e.GTQ="gtq",e.GYD="gyd",e.HKD="hkd",e.HNL="hnl",e.HRK="hrk",e.HTG="htg",e.HUF="huf",e.IDR="idr",e.ILS="ils",e.INR="inr",e.IQD="iqd",e.IRR="irr",e.ISK="isk",e.JMD="jmd",e.JOD="jod",e.JPY="jpy",e.KES="kes",e.KGS="kgs",e.KHR="khr",e.KMF="kmf",e.KPW="kpw",e.KRW="krw",e.KWD="kwd",e.KYD="kyd",e.KZT="kzt",e.LAK="lak",e.LBP="lbp",e.LKR="lkr",e.LRD="lrd",e.LSL="lsl",e.LTL="ltl",e.LVL="lvl",e.LYD="lyd",e.MAD="mad",e.MDL="mdl",e.MGA="mga",e.MKD="mkd",e.MMK="mmk",e.MNT="mnt",e.MOP="mop",e.MRO="mro",e.MUR="mur",e.MVR="mvr",e.MWK="mwk",e.MXN="mxn",e.MXV="mxv",e.MYR="myr",e.MZN="mzn",e.NAD="nad",e.NGN="ngn",e.NIO="nio",e.NOK="nok",e.NPR="npr",e.NZD="nzd",e.OMR="omr",e.PAB="pab",e.PEN="pen",e.PGK="pgk",e.PHP="php",e.PKR="pkr",e.PLN="pln",e.PYG="pyg",e.QAR="qar",e.RON="ron",e.RSD="rsd",e.RUB="rub",e.RWF="rwf",e.SAR="sar",e.SBD="sbd",e.SCR="scr",e.SDG="sdg",e.SEK="sek",e.SGD="sgd",e.SHP="shp",e.SLL="sll",e.SOS="sos",e.SRD="srd",e.SSP="ssp",e.STD="std",e.SVC="svc",e.SYP="syp",e.SZL="szl",e.THB="thb",e.TJS="tjs",e.TMT="tmt",e.TND="tnd",e.TOP="top",e.TRY="try",e.TTD="ttd",e.TWD="twd",e.TZS="tzs",e.UAH="uah",e.UGX="ugx",e.USD="usd",e.USN="usn",e.USS="uss",e.UYI="uyi",e.UYU="uyu",e.UZS="uzs",e.VEF="vef",e.VND="vnd",e.VUV="vuv",e.WST="wst",e.XAF="xaf",e.XAG="xag",e.XAU="xau",e.XBA="xba",e.XBB="xbb",e.XBC="xbc",e.XBD="xbd",e.XCD="xcd",e.XDR="xdr",e.XFU="xfu",e.XOF="xof",e.XPD="xpd",e.XPF="xpf",e.XPT="xpt",e.XSU="xsu",e.XTS="xts",e.XUA="xua",e.YER="yer",e.ZAR="zar",e.ZMW="zmw",e.ZWL="zwl"})(_||(_={}));const Iu={[_.AED]:2,[_.AFN]:2,[_.ALL]:2,[_.AMD]:2,[_.ANG]:2,[_.AOA]:2,[_.ARS]:2,[_.AUD]:2,[_.AWG]:2,[_.AZN]:2,[_.BAM]:2,[_.BBD]:2,[_.BDT]:2,[_.BGN]:2,[_.BHD]:3,[_.BIF]:0,[_.BMD]:2,[_.BND]:2,[_.BOB]:2,[_.BOV]:2,[_.BRL]:2,[_.BSD]:2,[_.BTN]:2,[_.BWP]:2,[_.BYR]:0,[_.BYN]:2,[_.BZD]:2,[_.CAD]:2,[_.CDF]:2,[_.CHE]:2,[_.CHF]:2,[_.CHW]:2,[_.CLF]:0,[_.CLP]:0,[_.CNY]:2,[_.COP]:2,[_.COU]:2,[_.CRC]:2,[_.CUC]:2,[_.CUP]:2,[_.CVE]:2,[_.CZK]:2,[_.DJF]:0,[_.DKK]:2,[_.DOP]:2,[_.DZD]:2,[_.EGP]:2,[_.ERN]:2,[_.ETB]:2,[_.EUR]:2,[_.FJD]:2,[_.FKP]:2,[_.GBP]:2,[_.GEL]:2,[_.GHS]:2,[_.GIP]:2,[_.GMD]:2,[_.GNF]:0,[_.GTQ]:2,[_.GYD]:2,[_.HKD]:2,[_.HNL]:2,[_.HRK]:2,[_.HTG]:2,[_.HUF]:2,[_.IDR]:2,[_.ILS]:2,[_.INR]:2,[_.IQD]:3,[_.IRR]:2,[_.ISK]:0,[_.JMD]:2,[_.JOD]:3,[_.JPY]:0,[_.KES]:2,[_.KGS]:2,[_.KHR]:2,[_.KMF]:0,[_.KPW]:2,[_.KRW]:0,[_.KWD]:3,[_.KYD]:2,[_.KZT]:2,[_.LAK]:2,[_.LBP]:2,[_.LKR]:2,[_.LRD]:2,[_.LSL]:2,[_.LTL]:2,[_.LVL]:2,[_.LYD]:3,[_.MAD]:2,[_.MDL]:2,[_.MGA]:2,[_.MKD]:2,[_.MMK]:2,[_.MNT]:2,[_.MOP]:2,[_.MRO]:2,[_.MUR]:2,[_.MVR]:2,[_.MWK]:2,[_.MXN]:2,[_.MXV]:2,[_.MYR]:2,[_.MZN]:2,[_.NAD]:2,[_.NGN]:2,[_.NIO]:2,[_.NOK]:2,[_.NPR]:2,[_.NZD]:2,[_.OMR]:3,[_.PAB]:2,[_.PEN]:2,[_.PGK]:2,[_.PHP]:2,[_.PKR]:2,[_.PLN]:2,[_.PYG]:0,[_.QAR]:2,[_.RON]:2,[_.RSD]:2,[_.RUB]:2,[_.RWF]:0,[_.SAR]:2,[_.SBD]:2,[_.SCR]:2,[_.SDG]:2,[_.SEK]:2,[_.SGD]:2,[_.SHP]:2,[_.SLL]:2,[_.SOS]:2,[_.SRD]:2,[_.SSP]:2,[_.STD]:2,[_.SVC]:2,[_.SYP]:2,[_.SZL]:2,[_.THB]:2,[_.TJS]:2,[_.TMT]:2,[_.TND]:3,[_.TOP]:2,[_.TRY]:2,[_.TTD]:2,[_.TWD]:2,[_.TZS]:2,[_.UAH]:2,[_.UGX]:0,[_.USD]:2,[_.USN]:2,[_.USS]:2,[_.UYI]:0,[_.UYU]:2,[_.UZS]:2,[_.VEF]:2,[_.VND]:0,[_.VUV]:0,[_.WST]:2,[_.XAF]:0,[_.XAG]:0,[_.XAU]:0,[_.XBA]:0,[_.XBB]:0,[_.XBC]:0,[_.XBD]:0,[_.XCD]:2,[_.XDR]:0,[_.XFU]:0,[_.XOF]:0,[_.XPD]:0,[_.XPF]:0,[_.XPT]:0,[_.XSU]:0,[_.XTS]:0,[_.XUA]:0,[_.YER]:2,[_.ZAR]:2,[_.ZMW]:2,[_.ZWL]:2};function Nu(e,t="en-US"){const{amount:n,currency:r}=e;return Intl.NumberFormat(t,{style:"currency",currency:r}).format(Ou(n,r))}function Ou(e,t){const n=Iu[t];return n==null?(console.warn(`Unexpected currency ${t}`),e):new Su(e).dividedBy(10**n).toNumber()}var Vu={formatPrice:Nu},dr={exports:{}};dr.exports;(function(e,t){var n=200,r="Expected a function",i="__lodash_hash_undefined__",a=1,o=2,c=1/0,h=9007199254740991,p="[object Arguments]",f="[object Array]",m="[object Boolean]",b="[object Date]",x="[object Error]",V="[object Function]",B="[object GeneratorFunction]",R="[object Map]",ue="[object Number]",C="[object Object]",J="[object Promise]",me="[object RegExp]",pe="[object Set]",ke="[object String]",we="[object Symbol]",Ge="[object WeakMap]",Fe="[object ArrayBuffer]",Ve="[object DataView]",xe="[object Float32Array]",oe="[object Float64Array]",br="[object Int8Array]",On="[object Int16Array]",Rn="[object Int32Array]",wr="[object Uint8Array]",Ar="[object Uint8ClampedArray]",Dn="[object Uint16Array]",it="[object Uint32Array]",at=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xn=/^\w*$/,nn=/^\./,$e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rt=/[\\^$.*+?()[\]{}|]/g,st=/\\(\\)?/g,Ln=/^\[object .+?Constructor\]$/,rn=/^(?:0|[1-9]\d*)$/,ie={};ie[xe]=ie[oe]=ie[br]=ie[On]=ie[Rn]=ie[wr]=ie[Ar]=ie[Dn]=ie[it]=!0,ie[p]=ie[f]=ie[Fe]=ie[m]=ie[Ve]=ie[b]=ie[x]=ie[V]=ie[R]=ie[ue]=ie[C]=ie[me]=ie[pe]=ie[ke]=ie[Ge]=!1;var Pn=typeof Cn=="object"&&Cn&&Cn.Object===Object&&Cn,qt=typeof self=="object"&&self&&self.Object===Object&&self,Ye=Pn||qt||Function("return this")(),an=t&&!t.nodeType&&t,Kt=an&&!0&&e&&!e.nodeType&&e,Mn=Kt&&Kt.exports===an,kn=Mn&&Pn.process,Un=function(){try{return kn&&kn.binding("util")}catch{}}(),Bn=Un&&Un.isTypedArray;function Gn(l,d){for(var w=-1,N=l?l.length:0;++w<N&&d(l[w],w,l)!==!1;);return l}function Sr(l,d){for(var w=-1,N=l?l.length:0;++w<N;)if(d(l[w],w,l))return!0;return!1}function Dt(l){return function(d){return d==null?void 0:d[l]}}function Zn(l,d){for(var w=-1,N=Array(l);++w<l;)N[w]=d(w);return N}function Vn(l){return function(d){return l(d)}}function Ir(l,d){return l==null?void 0:l[d]}function q(l){var d=!1;if(l!=null&&typeof l.toString!="function")try{d=!!(l+"")}catch{}return d}function ot(l){var d=-1,w=Array(l.size);return l.forEach(function(N,Y){w[++d]=[Y,N]}),w}function s(l,d){return function(w){return l(d(w))}}function u(l){var d=-1,w=Array(l.size);return l.forEach(function(N){w[++d]=N}),w}var g=Array.prototype,v=Function.prototype,T=Object.prototype,E=Ye["__core-js_shared__"],A=function(){var l=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),S=v.toString,I=T.hasOwnProperty,j=T.toString,Q=RegExp("^"+S.call(I).replace(Rt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),F=Ye.Symbol,te=Ye.Uint8Array,Le=s(Object.getPrototypeOf,Object),Ae=Object.create,sn=T.propertyIsEnumerable,on=g.splice,rs=s(Object.keys,Object),Nr=Ft(Ye,"DataView"),ln=Ft(Ye,"Map"),Or=Ft(Ye,"Promise"),Rr=Ft(Ye,"Set"),Dr=Ft(Ye,"WeakMap"),un=Ft(Object,"create"),is=Lt(Nr),as=Lt(ln),ss=Lt(Or),os=Lt(Rr),ls=Lt(Dr),Hn=F?F.prototype:void 0,xr=Hn?Hn.valueOf:void 0,Ti=Hn?Hn.toString:void 0;function xt(l){var d=-1,w=l?l.length:0;for(this.clear();++d<w;){var N=l[d];this.set(N[0],N[1])}}function us(){this.__data__=un?un(null):{}}function cs(l){return this.has(l)&&delete this.__data__[l]}function fs(l){var d=this.__data__;if(un){var w=d[l];return w===i?void 0:w}return I.call(d,l)?d[l]:void 0}function ps(l){var d=this.__data__;return un?d[l]!==void 0:I.call(d,l)}function ds(l,d){var w=this.__data__;return w[l]=un&&d===void 0?i:d,this}xt.prototype.clear=us,xt.prototype.delete=cs,xt.prototype.get=fs,xt.prototype.has=ps,xt.prototype.set=ds;function lt(l){var d=-1,w=l?l.length:0;for(this.clear();++d<w;){var N=l[d];this.set(N[0],N[1])}}function hs(){this.__data__=[]}function ms(l){var d=this.__data__,w=qn(d,l);if(w<0)return!1;var N=d.length-1;return w==N?d.pop():on.call(d,w,1),!0}function gs(l){var d=this.__data__,w=qn(d,l);return w<0?void 0:d[w][1]}function _s(l){return qn(this.__data__,l)>-1}function vs(l,d){var w=this.__data__,N=qn(w,l);return N<0?w.push([l,d]):w[N][1]=d,this}lt.prototype.clear=hs,lt.prototype.delete=ms,lt.prototype.get=gs,lt.prototype.has=_s,lt.prototype.set=vs;function ut(l){var d=-1,w=l?l.length:0;for(this.clear();++d<w;){var N=l[d];this.set(N[0],N[1])}}function ys(){this.__data__={hash:new xt,map:new(ln||lt),string:new xt}}function Es(l){return Kn(this,l).delete(l)}function Ts(l){return Kn(this,l).get(l)}function bs(l){return Kn(this,l).has(l)}function ws(l,d){return Kn(this,l).set(l,d),this}ut.prototype.clear=ys,ut.prototype.delete=Es,ut.prototype.get=Ts,ut.prototype.has=bs,ut.prototype.set=ws;function jn(l){var d=-1,w=l?l.length:0;for(this.__data__=new ut;++d<w;)this.add(l[d])}function As(l){return this.__data__.set(l,i),this}function Ss(l){return this.__data__.has(l)}jn.prototype.add=jn.prototype.push=As,jn.prototype.has=Ss;function ct(l){this.__data__=new lt(l)}function Is(){this.__data__=new lt}function Ns(l){return this.__data__.delete(l)}function Os(l){return this.__data__.get(l)}function Rs(l){return this.__data__.has(l)}function Ds(l,d){var w=this.__data__;if(w instanceof lt){var N=w.__data__;if(!ln||N.length<n-1)return N.push([l,d]),this;w=this.__data__=new ut(N)}return w.set(l,d),this}ct.prototype.clear=Is,ct.prototype.delete=Ns,ct.prototype.get=Os,ct.prototype.has=Rs,ct.prototype.set=Ds;function xs(l,d){var w=ft(l)||Ri(l)?Zn(l.length,String):[],N=w.length,Y=!!N;for(var U in l)(d||I.call(l,U))&&!(Y&&(U=="length"||Si(U,N)))&&w.push(U);return w}function qn(l,d){for(var w=l.length;w--;)if(Oi(l[w][0],d))return w;return-1}function Ls(l){return $t(l)?Ae(l):{}}var Ps=Ys();function Ms(l,d){return l&&Ps(l,d,Xn)}function bi(l,d){d=Fn(d,l)?[d]:wi(d);for(var w=0,N=d.length;l!=null&&w<N;)l=l[$n(d[w++])];return w&&w==N?l:void 0}function ks(l){return j.call(l)}function Us(l,d){return l!=null&&d in Object(l)}function Lr(l,d,w,N,Y){return l===d?!0:l==null||d==null||!$t(l)&&!Yn(d)?l!==l&&d!==d:Bs(l,d,Lr,w,N,Y)}function Bs(l,d,w,N,Y,U){var ne=ft(l),se=ft(d),de=f,_e=f;ne||(de=yt(l),de=de==p?C:de),se||(_e=yt(d),_e=_e==p?C:_e);var Pe=de==C&&!q(l),Ue=_e==C&&!q(d),ve=de==_e;if(ve&&!Pe)return U||(U=new ct),ne||xi(l)?Ai(l,d,w,N,Y,U):Xs(l,d,de,w,N,Y,U);if(!(Y&o)){var He=Pe&&I.call(l,"__wrapped__"),je=Ue&&I.call(d,"__wrapped__");if(He||je){var Et=He?l.value():l,pt=je?d.value():d;return U||(U=new ct),w(Et,pt,N,Y,U)}}return ve?(U||(U=new ct),zs(l,d,w,N,Y,U)):!1}function Gs(l,d,w,N){var Y=w.length,U=Y,ne=!N;if(l==null)return!U;for(l=Object(l);Y--;){var se=w[Y];if(ne&&se[2]?se[1]!==l[se[0]]:!(se[0]in l))return!1}for(;++Y<U;){se=w[Y];var de=se[0],_e=l[de],Pe=se[1];if(ne&&se[2]){if(_e===void 0&&!(de in l))return!1}else{var Ue=new ct;if(N)var ve=N(_e,Pe,de,l,d,Ue);if(!(ve===void 0?Lr(Pe,_e,N,a|o,Ue):ve))return!1}}return!0}function Zs(l){if(!$t(l)||Qs(l))return!1;var d=Mr(l)||q(l)?Q:Ln;return d.test(Lt(l))}function Vs(l){return Yn(l)&&kr(l.length)&&!!ie[j.call(l)]}function Hs(l){return typeof l=="function"?l:l==null?oo:typeof l=="object"?ft(l)?Ks(l[0],l[1]):qs(l):lo(l)}function js(l){if(!eo(l))return rs(l);var d=[];for(var w in Object(l))I.call(l,w)&&w!="constructor"&&d.push(w);return d}function qs(l){var d=Ws(l);return d.length==1&&d[0][2]?Ni(d[0][0],d[0][1]):function(w){return w===l||Gs(w,l,d)}}function Ks(l,d){return Fn(l)&&Ii(d)?Ni($n(l),d):function(w){var N=io(w,l);return N===void 0&&N===d?ao(w,l):Lr(d,N,void 0,a|o)}}function Fs(l){return function(d){return bi(d,l)}}function $s(l){if(typeof l=="string")return l;if(Ur(l))return Ti?Ti.call(l):"";var d=l+"";return d=="0"&&1/l==-c?"-0":d}function wi(l){return ft(l)?l:to(l)}function Ys(l){return function(d,w,N){for(var Y=-1,U=Object(d),ne=N(d),se=ne.length;se--;){var de=ne[l?se:++Y];if(w(U[de],de,U)===!1)break}return d}}function Ai(l,d,w,N,Y,U){var ne=Y&o,se=l.length,de=d.length;if(se!=de&&!(ne&&de>se))return!1;var _e=U.get(l);if(_e&&U.get(d))return _e==d;var Pe=-1,Ue=!0,ve=Y&a?new jn:void 0;for(U.set(l,d),U.set(d,l);++Pe<se;){var He=l[Pe],je=d[Pe];if(N)var Et=ne?N(je,He,Pe,d,l,U):N(He,je,Pe,l,d,U);if(Et!==void 0){if(Et)continue;Ue=!1;break}if(ve){if(!Sr(d,function(pt,Pt){if(!ve.has(Pt)&&(He===pt||w(He,pt,N,Y,U)))return ve.add(Pt)})){Ue=!1;break}}else if(!(He===je||w(He,je,N,Y,U))){Ue=!1;break}}return U.delete(l),U.delete(d),Ue}function Xs(l,d,w,N,Y,U,ne){switch(w){case Ve:if(l.byteLength!=d.byteLength||l.byteOffset!=d.byteOffset)return!1;l=l.buffer,d=d.buffer;case Fe:return!(l.byteLength!=d.byteLength||!N(new te(l),new te(d)));case m:case b:case ue:return Oi(+l,+d);case x:return l.name==d.name&&l.message==d.message;case me:case ke:return l==d+"";case R:var se=ot;case pe:var de=U&o;if(se||(se=u),l.size!=d.size&&!de)return!1;var _e=ne.get(l);if(_e)return _e==d;U|=a,ne.set(l,d);var Pe=Ai(se(l),se(d),N,Y,U,ne);return ne.delete(l),Pe;case we:if(xr)return xr.call(l)==xr.call(d)}return!1}function zs(l,d,w,N,Y,U){var ne=Y&o,se=Xn(l),de=se.length,_e=Xn(d),Pe=_e.length;if(de!=Pe&&!ne)return!1;for(var Ue=de;Ue--;){var ve=se[Ue];if(!(ne?ve in d:I.call(d,ve)))return!1}var He=U.get(l);if(He&&U.get(d))return He==d;var je=!0;U.set(l,d),U.set(d,l);for(var Et=ne;++Ue<de;){ve=se[Ue];var pt=l[ve],Pt=d[ve];if(N)var Li=ne?N(Pt,pt,ve,d,l,U):N(pt,Pt,ve,l,d,U);if(!(Li===void 0?pt===Pt||w(pt,Pt,N,Y,U):Li)){je=!1;break}Et||(Et=ve=="constructor")}if(je&&!Et){var zn=l.constructor,Wn=d.constructor;zn!=Wn&&"constructor"in l&&"constructor"in d&&!(typeof zn=="function"&&zn instanceof zn&&typeof Wn=="function"&&Wn instanceof Wn)&&(je=!1)}return U.delete(l),U.delete(d),je}function Kn(l,d){var w=l.__data__;return Js(d)?w[typeof d=="string"?"string":"hash"]:w.map}function Ws(l){for(var d=Xn(l),w=d.length;w--;){var N=d[w],Y=l[N];d[w]=[N,Y,Ii(Y)]}return d}function Ft(l,d){var w=Ir(l,d);return Zs(w)?w:void 0}var yt=ks;(Nr&&yt(new Nr(new ArrayBuffer(1)))!=Ve||ln&&yt(new ln)!=R||Or&&yt(Or.resolve())!=J||Rr&&yt(new Rr)!=pe||Dr&&yt(new Dr)!=Ge)&&(yt=function(l){var d=j.call(l),w=d==C?l.constructor:void 0,N=w?Lt(w):void 0;if(N)switch(N){case is:return Ve;case as:return R;case ss:return J;case os:return pe;case ls:return Ge}return d});function Cs(l,d,w){d=Fn(d,l)?[d]:wi(d);for(var N,Y=-1,ne=d.length;++Y<ne;){var U=$n(d[Y]);if(!(N=l!=null&&w(l,U)))break;l=l[U]}if(N)return N;var ne=l?l.length:0;return!!ne&&kr(ne)&&Si(U,ne)&&(ft(l)||Ri(l))}function Si(l,d){return d=d??h,!!d&&(typeof l=="number"||rn.test(l))&&l>-1&&l%1==0&&l<d}function Fn(l,d){if(ft(l))return!1;var w=typeof l;return w=="number"||w=="symbol"||w=="boolean"||l==null||Ur(l)?!0:xn.test(l)||!at.test(l)||d!=null&&l in Object(d)}function Js(l){var d=typeof l;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?l!=="__proto__":l===null}function Qs(l){return!!A&&A in l}function eo(l){var d=l&&l.constructor,w=typeof d=="function"&&d.prototype||T;return l===w}function Ii(l){return l===l&&!$t(l)}function Ni(l,d){return function(w){return w==null?!1:w[l]===d&&(d!==void 0||l in Object(w))}}var to=Pr(function(l){l=ro(l);var d=[];return nn.test(l)&&d.push(""),l.replace($e,function(w,N,Y,U){d.push(Y?U.replace(st,"$1"):N||w)}),d});function $n(l){if(typeof l=="string"||Ur(l))return l;var d=l+"";return d=="0"&&1/l==-c?"-0":d}function Lt(l){if(l!=null){try{return S.call(l)}catch{}try{return l+""}catch{}}return""}function Pr(l,d){if(typeof l!="function"||d&&typeof d!="function")throw new TypeError(r);var w=function(){var N=arguments,Y=d?d.apply(this,N):N[0],U=w.cache;if(U.has(Y))return U.get(Y);var ne=l.apply(this,N);return w.cache=U.set(Y,ne),ne};return w.cache=new(Pr.Cache||ut),w}Pr.Cache=ut;function Oi(l,d){return l===d||l!==l&&d!==d}function Ri(l){return no(l)&&I.call(l,"callee")&&(!sn.call(l,"callee")||j.call(l)==p)}var ft=Array.isArray;function Di(l){return l!=null&&kr(l.length)&&!Mr(l)}function no(l){return Yn(l)&&Di(l)}function Mr(l){var d=$t(l)?j.call(l):"";return d==V||d==B}function kr(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=h}function $t(l){var d=typeof l;return!!l&&(d=="object"||d=="function")}function Yn(l){return!!l&&typeof l=="object"}function Ur(l){return typeof l=="symbol"||Yn(l)&&j.call(l)==we}var xi=Bn?Vn(Bn):Vs;function ro(l){return l==null?"":$s(l)}function io(l,d,w){var N=l==null?void 0:bi(l,d);return N===void 0?w:N}function ao(l,d){return l!=null&&Cs(l,d,Us)}function Xn(l){return Di(l)?xs(l):js(l)}function so(l,d,w){var N=ft(l)||xi(l);if(d=Hs(d),w==null)if(N||$t(l)){var Y=l.constructor;N?w=ft(l)?new Y:[]:w=Mr(Y)?Ls(Le(l)):{}}else w={};return(N?Gn:Ms)(l,function(U,ne,se){return d(w,U,ne,se)}),w}function oo(l){return l}function lo(l){return Fn(l)?Dt($n(l)):Fs(l)}e.exports=so})(dr,dr.exports);var Ru=dr.exports,Du=Wr(Ru);class Hu{constructor(t,n,r){this.platform=ht.DESKTOP,this.instanceId="123456789012345678",this.configuration=za(),this.frameId="aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa",this.eventBus=new Hi,this.clientId=t,this.commands=this._updateCommandMocks({}),this.guildId=n,this.channelId=r}_updateCommandMocks(t){return this.commands=Du(Object.assign({},xu,t),(n,r,i)=>{n[i]=async(...a)=>(console.info(`DiscordSDKMock: ${String(i)}(${JSON.stringify(a)})`),await r(...a))}),this.commands}emitReady(){this.emitEvent("READY",void 0)}close(...t){console.info(`DiscordSDKMock: close(${JSON.stringify(t)})`)}ready(){return Promise.resolve()}async subscribe(t,n,...r){return await this.eventBus.on(t,n)}async unsubscribe(t,n,...r){return await this.eventBus.off(t,n)}emitEvent(t,n){this.eventBus.emit(t,n)}}const xu={authorize:()=>Promise.resolve({code:"mock_code"}),authenticate:()=>Promise.resolve({access_token:"mock_token",user:{username:"mock_user_username",discriminator:"mock_user_discriminator",id:"mock_user_id",avatar:null,public_flags:1},scopes:[],expires:new Date(2121,1,1).toString(),application:{description:"mock_app_description",icon:"mock_app_icon",id:"mock_app_id",name:"mock_app_name"}}),setActivity:()=>Promise.resolve({name:"mock_activity_name",type:0}),getChannel:()=>Promise.resolve({id:"mock_channel_id",name:"mock_channel_name",type:vr.GUILD_TEXT,voice_states:[],messages:[]}),getSkus:()=>Promise.resolve({skus:[]}),getEntitlements:()=>Promise.resolve({entitlements:[]}),startPurchase:()=>Promise.resolve([]),setConfig:()=>Promise.resolve({use_interactive_pip:!1}),userSettingsGetLocale:()=>Promise.resolve({locale:""}),openExternalLink:()=>Promise.resolve(null),encourageHardwareAcceleration:()=>Promise.resolve({enabled:!0}),captureLog:()=>Promise.resolve(null),setOrientationLockState:()=>Promise.resolve(null),openInviteDialog:()=>Promise.resolve(null),getPlatformBehaviors:()=>Promise.resolve({iosKeyboardResizesView:!0}),getChannelPermissions:()=>Promise.resolve({permissions:Wi(1234567890)}),openShareMomentDialog:()=>Promise.resolve(null),initiateImageUpload:()=>Promise.resolve({image_url:"https://assets-global.website-files.com/6257adef93867e50d84d30e2/636e0b52aa9e99b832574a53_full_logo_blurple_RGB.png"}),getInstanceConnectedParticipants:()=>Promise.resolve({participants:[]})};function Lu(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}const ts=/\{([a-z]+)\}/g;function Pu(e){const t=e.replace(ts,(n,r)=>`(?<${r}>[\\w-]+)`);return new RegExp(`${t}(/|$)`)}const Mu=/\.[a-z0-9]{1,4}$/;function ku({originalURL:e,prefix:t,prefixHost:n,target:r}){const i=new URL(`https://${r}`),a=Pu(i.host.replace(/%7B/g,"{").replace(/%7D/g,"}")),o=e.toString().match(a);if(o==null)return e;const c=new URL(e.toString());return c.host=n,c.pathname=t.replace(ts,(h,p)=>{var f;const m=(f=o.groups)===null||f===void 0?void 0:f[p];if(m==null)throw new Error("Misconfigured route.");return m}),c.pathname+=c.pathname==="/"?e.pathname.slice(1):e.pathname,c.pathname=c.pathname.replace(i.pathname,""),e.pathname.endsWith("/")&&!c.pathname.endsWith("/")&&!Mu.test(c.pathname)&&(c.pathname+="/"),c}function fn(e,t=window.location.protocol,n=window.location.host){return new URL(e,`${t}//${n}`)}function ju(e,{patchFetch:t=!0,patchWebSocket:n=!0,patchXhr:r=!0,patchSrcAttributes:i=!1}={}){if(!(typeof window>"u")){if(t){const a=window.fetch;window.fetch=function(o,c){if(o instanceof Request){const p=pn({url:fn(o.url),mappings:e}),f=c??{},m=Lu(f,["url"]);return Object.keys(Request.prototype).forEach(b=>{if(b!=="url")try{m[b]=o[b]}catch(x){console.warn(`Remapping fetch request key "${b}" failed`,x)}}),new Promise((b,x)=>{try{o.blob().then(V=>{o.method.toUpperCase()!=="HEAD"&&o.method.toUpperCase()!=="GET"&&V.size>0&&(m.body=V),b(a(new Request(p,m)))})}catch(V){x(V)}})}const h=pn({url:o instanceof URL?o:fn(o),mappings:e});return a(h,c)}}if(n){class a extends WebSocket{constructor(c,h){const p=pn({url:c instanceof URL?c:fn(c),mappings:e});super(p,h)}}window.WebSocket=a}if(r){const a=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(o,c,h,p,f){const m=pn({url:fn(c),mappings:e});a.apply(this,[o,m,h,p,f])}}if(i){const a=function(h){for(const p of h)p.type==="attributes"&&p.attributeName==="src"?zr(p.target,e):p.type==="childList"&&p.addedNodes.forEach(f=>ns(f,e))},o=new MutationObserver(a),c={attributeFilter:["src"],childList:!0,subtree:!0};o.observe(window.document,c),window.document.querySelectorAll("[src]").forEach(h=>{zr(h,e)})}}}function ns(e,t){e.hasChildNodes()&&e.childNodes.forEach(n=>{zr(n,t),ns(n,t)})}function zr(e,t){var n;if(e instanceof HTMLElement&&e.hasAttribute("src")){const r=fn((n=e.getAttribute("src"))!==null&&n!==void 0?n:"");if(r.host===window.location.host)return;e.setAttribute("src",pn({url:r,mappings:t}).toString())}}function pn({url:e,mappings:t}){for(const n of t){const r=ku({originalURL:e,prefix:n.prefix,target:n.target,prefixHost:window.location.host});if(r!=null&&(r==null?void 0:r.toString())!==e.toString())return r}return e}const{Commands:qu}=Tl;export{qu as Commands,Tl as Common,Gu as DiscordSDK,Hu as DiscordSDKMock,ae as Events,Yr as Orientation,Zu as PermissionUtils,Uu as Permissions,ht as Platform,Vu as PriceUtils,ki as RPCCloseCodes,$r as RPCErrorCodes,Bu as Responses,pn as attemptRemap,ju as patchUrlMappings};
