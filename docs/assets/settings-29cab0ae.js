import{B as p,D as j,j as e,F as b,c as E,a as T,G as D,t as I,r,H as F,I as M,J as B,f as O}from"./index-be6118cb.js";import{S as A,C as x,X as m}from"./index-2e47b4af.js";import{u as P}from"./cdn-c50885ed.js";import{a as U}from"./PremiumSuggest-5563d49f.js";function H(){const[i,n]=p(a=>[a.editHistoryEnabled,a.setEditHistoryEnabled],j),[t,l]=p(a=>[a.alwaysCollapseSidebar,a.setAlwaysCollapseSidebar],j),[u,h]=p(a=>[a.confirmOnExit,a.setConfirmOnExit],j);function o(){confirm("Are you sure you want to clear all local data? The message editor and all your app settings will be cleared. Your saved messages, scheduled messages, and custom commands will not be affected.")&&(localStorage.clear(),window.location.reload())}return e.jsxs("div",{className:"bg-dark-3 rounded-lg p-5",children:[e.jsx("div",{className:"text-white text-2xl font-medium mb-10",children:e.jsx("div",{children:"App Settings"})}),e.jsxs("div",{className:"space-y-6 mb-10",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(b,{checked:i,onChange:n}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium text-lg ml-3",children:"Edit History"}),e.jsx("div",{className:"text-gray-400 font-light text-sm ml-3",children:"Edit history allows you undo and redo the last 10 changes to a message. Disabling this may reduce the memory usage of the app."})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(b,{checked:t,onChange:l}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium text-lg ml-3",children:"Keep Sidebar Collapsed"}),e.jsx("div",{className:"text-gray-400 font-light text-sm ml-3",children:"This will keep the sidebar collapsed across page reloads even on large screens."})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(b,{checked:u,onChange:h}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium text-lg ml-3",children:"Confirm On Exit"}),e.jsx("div",{className:"text-gray-400 font-light text-sm ml-3",children:"This will show a confirmation dialog when you try to leave the app."})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"px-3 py-2 rounded text-white border-red border-2 hover:bg-red",onClick:o,children:"Clear Local Data"})})]})}function G(){var y;const i=E(s=>s.guildId),n=T(s=>s.create),{data:t,refetch:l}=D(i),u=(y=I())==null?void 0:y.custom_bot,[h,o]=r.useState(!1),[a,f]=r.useState(""),[d,g]=r.useState("online"),[c,v]=r.useState(null);r.useEffect(()=>{t!=null&&t.success&&(g(t.data.gateway_status),v(t.data.gateway_activity_state))},[t]);const w=F(),N=M();function k(){!a||!i||w.mutate({guildId:i,req:{token:a}},{onSuccess:s=>{f(""),s.success?(o(!1),l()):n({title:"Something went wrong",message:s.error.message||"Unknown Error",type:"error"})}})}function C(){i&&N.mutate({guildId:i},{onSuccess:s=>{s.success?l():n({title:"Something went wrong",message:s.error.message||"Unknown Error",type:"error"})}})}const S=B();function _(){i&&S.mutate({guildId:i,req:{gateway_status:d,gateway_activity_type:c?4:void 0,gateway_activity_name:c||void 0,gateway_activity_state:c||void 0}},{onSuccess:s=>{s.success?(g(s.data.gateway_status),v(s.data.gateway_activity_state||null),n({title:"Updated Status",message:"It may take up to 30 seconds until the update takes affect",type:"success"})):n({title:"Something went wrong",message:s.error.message||"Unknown Error",type:"error"})}})}return e.jsxs("div",{className:"bg-dark-3 rounded-lg p-5",children:[e.jsxs("div",{className:"text-white text-2xl font-medium mb-10 flex items-center space-x-3",children:[e.jsx(A,{className:"h-7 w-7 text-yellow"}),e.jsx("div",{children:"Custom Bot"})]}),!(t!=null&&t.success)||h?u?e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-medium text-gray-300 mb-1",children:"Bot Token"}),e.jsx("div",{className:"text-gray-400 font-light text-sm mb-5",children:"You get the token by creating a bot in the Discord Developer Portal."}),e.jsx("input",{type:"password",className:"px-3 py-2 bg-dark-2 w-full rounded mb-10 focus:outline-none text-gray-300",value:a,onChange:s=>f(s.target.value)}),e.jsx("div",{className:"flex justify-end space-x-3",children:e.jsx("button",{className:"px-3 py-2 rounded bg-blurple hover:bg-blurple cursor-pointer text-white",onClick:k,children:"Save"})})]}):e.jsx(U,{}):e.jsxs("div",{children:[e.jsx("div",{className:"mb-10",children:e.jsx("div",{className:"flex justify-between mb-10",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:P({id:t.data.user_id,avatar:t.data.user_avatar,discriminator:t.data.user_discriminator}),alt:"",className:"h-14 w-14 rounded-full shadow"}),e.jsx("div",{className:"h-5 w-5 bg-dark-3 rounded-full absolute right-0 bottom-0 flex items-center justify-center",title:"Change Status",children:e.jsx("div",{className:O("h-3 w-3 rounded-full",d==="online"?"bg-green":d==="dnd"?"bg-red":"bg-gray-500")})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xl text-gray-300",children:t.data.user_name}),e.jsx("div",{className:"text-gray-500 text-sm",children:t.data.user_id})]})]})})}),e.jsxs("div",{className:"flex flex-col text-gray-300 space-y-5 mb-10",children:[e.jsx("div",{className:"flex items-center space-x-2",children:t.data.token_valid?e.jsxs(e.Fragment,{children:[e.jsx(x,{className:"h-6 w-6 text-green"}),e.jsx("div",{children:"The bot token is valid"})]}):e.jsxs(e.Fragment,{children:[e.jsx(m,{className:"h-6 w-6 text-red"}),e.jsx("div",{children:"The bot token is invalid"})]})}),e.jsx("div",{className:"flex items-center space-x-2",children:t.data.is_member?e.jsxs(e.Fragment,{children:[e.jsx(x,{className:"h-6 w-6 text-green"}),e.jsx("div",{children:"The bot has been added to your server"})]}):e.jsxs(e.Fragment,{children:[e.jsx(m,{className:"h-6 w-6 text-red"}),e.jsx("div",{children:"The bot hasn't been added to your server"})]})}),e.jsx("div",{className:"flex items-center space-x-2",children:t.data.has_permissions?e.jsxs(e.Fragment,{children:[e.jsx(x,{className:"h-6 w-6 text-green"}),e.jsx("div",{children:"The bot has Manage Webhooks permissions"})]}):e.jsxs(e.Fragment,{children:[e.jsx(m,{className:"h-6 w-6 text-red"}),e.jsx("div",{children:"The bot doesn't have Manage Webhooks permissions"})]})}),e.jsx("div",{className:"flex items-center space-x-2",children:t.data.handled_first_interaction?e.jsxs(e.Fragment,{children:[e.jsx(x,{className:"h-6 w-6 text-green"}),e.jsx("div",{children:"The bot has handled its first interaction and is ready to go"})]}):e.jsxs(e.Fragment,{children:[e.jsx(m,{className:"h-6 w-6 text-red"}),e.jsx("div",{children:"The bot has handled its first interaction and is ready to go"})]})})]}),e.jsxs("div",{className:"mb-10",children:[e.jsx("div",{className:"text-lg font-medium text-gray-300 mb-1",children:"Invite the Bot"}),e.jsx("div",{className:"text-gray-400 font-light text-sm mb-5",children:"Click below to invite the bot to your server. Make sure to give it Manage Webhook permissions."}),e.jsx("a",{href:t.data.invite_url,target:"_blank",className:"bg-blurple hover:bg-blurple-dark px-3 py-2 rounded text-white",children:"Invite Bot"})]}),e.jsxs("div",{className:"mb-10",children:[e.jsx("div",{className:"text-lg font-medium text-gray-300 mb-1",children:"Custom Status"}),e.jsx("div",{className:"text-gray-400 font-light text-sm mb-5",children:"You can set the online status and a custom status message for your bot to give it your personal touch."}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("select",{className:"px-3 py-2 rounded bg-dark-2 text-gray-300",value:d,onChange:s=>g(s.target.value),children:[e.jsx("option",{value:"online",children:"Online"}),e.jsx("option",{value:"dnd",children:"Do Not Disturb"}),e.jsx("option",{value:"invisible",children:"Invisible"})]}),e.jsx("input",{className:"px-3 py-2 bg-dark-2 rounded focus:outline-none text-gray-300",placeholder:"Custom Status",value:c||"",onChange:s=>v(s.target.value||null),maxLength:128}),e.jsx("button",{onClick:()=>_(),className:"bg-dark-5 rounded px-3 py-2 text-white hover:bg-dark-6 flex-none",children:"Save"})]})]}),e.jsxs("div",{className:"mb-10",children:[e.jsx("div",{className:"text-lg font-medium text-gray-300 mb-1",children:"Interaction Endpoint"}),e.jsx("div",{className:"text-gray-400 font-light text-sm mb-5",children:"To increase the speed and reliability of your bot, you can set the Interaction Endpoint URL in the Discord Developer Portal:"}),e.jsx("input",{type:"url",readOnly:!0,value:t.data.interaction_endpoint_url,className:"bg-dark-2 px-3 py-2 rounded w-full focus:outline-none text-white mb-5"}),e.jsx("a",{href:`https://discord.com/developers/applications/${t.data.application_id}/information`,target:"_blank",className:"bg-blurple hover:bg-blurple-dark px-3 py-2 rounded text-white",children:"Open Developer Portal"})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{className:"px-3 py-2 rounded border-2 border-red hover:bg-red cursor-pointer text-white",onClick:C,children:"Disable"}),e.jsx("button",{className:"px-3 py-2 rounded border-2 border-dark-7 hover:bg-dark-6 cursor-pointer text-white",onClick:()=>o(!0),children:"Change Token"})]})]})]})}function R(){return e.jsx("div",{className:"overflow-y-auto w-full",children:e.jsxs("div",{className:"max-w-5xl w-full mx-auto px-4 my-5 lg:my-20 space-y-10",children:[e.jsx(H,{}),e.jsx(G,{})]})})}export{R as default};
