import{u as p,a as h,b as f,c as m,r as i,j as r,M as x}from"./index-d92f5b56.js";import{R as g,h as v}from"./index-e151b7a6.js";function k(){const a=p();h(o=>o.create);const s=f(),u=m(o=>o.webhookUrl),[n,l]=i.useState("{}");i.useEffect(()=>{const o=u||"https://steve.com",t=c(s),e=d(o,t);l(e)},[s]);function c(o){return{content:o.content||"",username:o.username||"",avatar_url:o.avatar_url||"",tts:!!o.tts,embeds:(o.embeds||[]).map(t=>({url:t.url,title:t.title,description:t.description,color:t.color,image:t.image?{url:t.image.url}:void 0,footer:t.footer?{text:t.footer.text,icon_url:t.footer.icon_url}:void 0,timestamp:t.timestamp,author:t.author?{url:t.author.url,name:t.author.name,icon_url:t.author.icon_url}:void 0,thumbnail:t.thumbnail?{url:t.thumbnail.url}:void 0,fields:t.fields?t.fields.map(e=>({name:e.name,value:e.value,inline:e.inline})):[]})),components:o.components||[],flags:o.flags||0}}function d(o,t){const e=JSON.stringify(t).replace(/\\/g,"\\\\").replace(/"/g,'\\"');return`curl -X POST "${o}" -H "Content-Type: application/json" -d "${e}"`}return r.jsx(x,{onClose:()=>a("/editor"),children:r.jsxs("div",{className:"h-full flex flex-col p-1.5 md:p-3",children:[r.jsx(g,{className:"flex-1 rounded overflow-hidden",height:"100%",width:"100%",value:n,basicSetup:{lineNumbers:!1,foldGutter:!1,indentOnInput:!0},theme:v,onChange:o=>l(o)}),r.jsxs("div",{className:"mt-3 flex justify-end space-x-2",children:[r.jsx("button",{className:"border-2 border-dark-7 hover:bg-dark-5 px-3 py-2 rounded text-white",onClick:()=>navigator.clipboard.writeText(n),children:"Copy to Clipboard"}),r.jsx("button",{className:"border-2 border-dark-7 hover:bg-dark-5 px-3 py-2 rounded text-white",onClick:()=>a("/editor"),children:"Cancel"})]})]})})}export{k as default};
