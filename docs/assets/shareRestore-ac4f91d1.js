import{x as n,u as i,y as c,a as u,r as x,j as e,M as m,b as h}from"./index-27ad2cac.js";import p from"./MessagePreview-ffa00e1b.js";import{p as g}from"./restoreSchema-ae9ad59f.js";import"./index-e4f144c6.js";function b(){const{sharedMessageId:d}=n(),t=i(),{data:s}=c(d||null),o=u(r=>r.create),a=x.useMemo(()=>{if(!s)return null;if(s.success)try{return g(s.data.data)}catch(r){o({type:"error",title:"Failed to parse shared message",message:`${r}`}),console.error(r)}else o({title:"Failed to load shared message",message:`${s.error.message}`,type:"error"});return null},[s]);function l(){a&&(h.setState(a),t("/editor"))}return e.jsx(m,{width:"md",onClose:()=>t("/editor"),children:e.jsxs("div",{className:"flex flex-col overflow-y-hidden",children:[e.jsx("div",{className:"rounded-r-xl bg-dark-4 overflow-y-scroll flex-auto max-h-[300px] sm:max-h-[500px]",children:e.jsx("div",{className:"rounded text-white h-full px-5 py-3",children:a&&e.jsx(p,{msg:a})})}),e.jsxs("div",{className:"flex flex-none justify-end space-x-3 p-3",children:[e.jsx("button",{className:"text-white px-3 py-2 rounded border-2 border-red hover:bg-red",onClick:()=>t("/editor"),children:"Cancel"}),e.jsx("button",{className:"text-white px-3 py-2 rounded border-2 border-green hover:bg-green",onClick:l,children:"Restore"})]})]})})}export{b as default};
